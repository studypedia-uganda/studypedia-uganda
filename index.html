<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DailyEarners Investment Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Baskerville:wght@400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* General Body and Container Styles */
        body {
            font-family: 'Roboto', sans-serif; /* Default body font */
            margin: 0;
            padding: 0;
            background: linear-gradient(to right, #e0f2f7, #bbdefb); /* Light blue gradient fallback */
            color: #333;
            line-height: 1.6;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            transition: background-image 1s ease-in-out;
            position: relative;
            min-height: 100vh;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.6);
            z-index: -1;
            pointer-events: none;
        }

        /* Debug indicator - remove this after testing */
        body::after {
            content: 'Background slideshow active - check console for logs';
            position: fixed;
            bottom: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            font-size: 12px;
            border-radius: 5px;
            z-index: 1000;
            pointer-events: none;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        /* Page Visibility */
        section {
            display: none;
            padding: 20px;
            flex-grow: 1; /* Allow sections to grow */
        }

        section.active-page {
            display: flex;
            flex-direction: column; /* For proper layout within sections */
        }

        /* Typography */
        h1, h2, h3 {
            font-family: 'Baskerville', serif;
            color: #004080; /* Darker blue for headings */
            text-align: center;
            margin-bottom: 20px;
        }

        h1 { font-size: 3em; }
        h2 { font-size: 2.5em; }
        h3 { font-size: 1.8em; }

        p {
            font-family: 'Times New Roman', serif;
        }

        /* Buttons */
        .btn {
            display: inline-block;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: all 0.3s ease;
            text-decoration: none;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(45deg, #007bff, #0056b3); /* Blue gradient */
            color: white;
            box-shadow: 0 4px 10px rgba(0, 123, 255, 0.4);
        }
        .btn-primary:hover {
            background: linear-gradient(45deg, #0056b3, #007bff);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 123, 255, 0.6);
        }

        .btn-login, .btn-register {
            background-color: #f7b731; /* Gold */
            color: #333;
            margin-left: 10px;
            box-shadow: 0 4px 10px rgba(247, 183, 49, 0.4);
        }
        .btn-login:hover, .btn-register:hover {
            background-color: #e0a21d;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(247, 183, 49, 0.6);
        }

        #claim-bonus-btn:hover:not(:disabled) {
            background: linear-gradient(45deg, #e0a21d, #ffc107) !important;
            transform: translateY(-3px) !important;
            box-shadow: 0 8px 20px rgba(255, 193, 7, 0.6) !important;
        }

        #claim-bonus-btn:disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .btn-apply {
            background: linear-gradient(45deg, #28a745, #218838); /* Green */
            color: white;
            box-shadow: 0 4px 10px rgba(40, 167, 69, 0.4);
        }
        .btn-apply:hover {
            background: linear-gradient(45deg, #218838, #28a745);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(40, 167, 69, 0.6);
        }

        .btn-success { /* For Deposit */
            background: linear-gradient(45deg, #5cb85c, #4cae4c);
            color: white;
            box-shadow: 0 4px 10px rgba(92, 184, 92, 0.4);
        }
        .btn-success:hover {
            background: linear-gradient(45deg, #4cae4c, #5cb85c);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(92, 184, 92, 0.6);
        }

        .btn-danger { /* For Withdraw */
            background: linear-gradient(45deg, #dc3545, #c82333);
            color: white;
            box-shadow: 0 4px 10px rgba(220, 53, 69, 0.4);
        }
        .btn-danger:hover {
            background: linear-gradient(45deg, #c82333, #dc3545);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(220, 53, 69, 0.6);
        }

        .btn-info { /* General Info Button */
            background: linear-gradient(45deg, #17a2b8, #138496);
            color: white;
            box-shadow: 0 4px 10px rgba(23, 162, 184, 0.4);
        }
        .btn-info:hover {
            background: linear-gradient(45deg, #138496, #17a2b8);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(23, 162, 184, 0.6);
        }

        .btn-logout {
            background-color: #6c757d; /* Gray */
            color: white;
            margin-left: 20px;
        }
        .btn-logout:hover {
            background-color: #5a6268;
        }

        .btn-copy {
            background-color: #6f42c1; /* Purple */
            color: white;
        }
        .btn-copy:hover {
            background-color: #5b2fa0;
        }

        .back-btn {
            background: none;
            border: none;
            color: #007bff;
            font-size: 1.1em;
            cursor: pointer;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }
        .back-btn i {
            margin-right: 8px;
        }
        .back-btn:hover {
            text-decoration: underline;
        }

        /* Header (Welcome Page) */
        .main-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            background: linear-gradient(to right, #007bff, #0056b3); /* Dark blue header */
            color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .main-header .logo {
            display: flex;
            align-items: center;
        }
        .main-header .logo img {
            border-radius: 50%;
            margin-right: 10px;
            border: 2px solid white;
        }
        .main-header .logo h1 {
            color: white;
            margin: 0;
            font-size: 1.8em;
        }

        .main-header nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
        }
        .main-header nav ul li {
            margin-right: 25px;
        }
        .main-header nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1em;
            position: relative;
            transition: color 0.3s ease;
        }
        .main-header nav ul li a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background-color: #f7b731; /* Gold underline */
            left: 0;
            bottom: -5px;
            transition: width 0.3s ease-in-out;
        }
        .main-header nav ul li a:hover::after {
            width: 100%;
        }
        .main-header nav ul li a:hover {
            color: #f7b731;
        }

        /* Hero Section */
        .hero-section {
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 60px 40px;
            background: linear-gradient(to right, #f0f8ff, #e6f7ff); /* Very light blue */
            text-align: center;
            gap: 30px;
        }

        .hero-content {
            max-width: 600px;
            text-align: left;
        }

        .hero-content .motto {
            font-size: 3.5em;
            color: #004080;
            margin-bottom: 20px;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.1);
        }

        .hero-content .mission {
            font-size: 1.2em;
            color: #555;
            margin-bottom: 30px;
        }

        .hero-graphics img {
            max-width: 100%;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            animation: fadeInScale 1s ease-out forwards;
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }


        /* How We Work Section */
        .info-section {
            background-color: #f9f9f9;
            padding: 60px 40px;
            text-align: center;
        }

        .info-section h2 {
            margin-bottom: 40px;
        }

        .work-process {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .work-process .step {
            background-color: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            width: 30%;
            min-width: 280px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .work-process .step:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .work-process .step .icon-large {
            font-size: 3.5em;
            color: #007bff;
            margin-bottom: 15px;
            animation: bounceIn 0.8s ease-out;
        }

        @keyframes bounceIn {
            0% { transform: scale(0.1); opacity: 0; }
            60% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); }
        }


        /* Authentication Pages (Login, Register, Forgot Password) */
        .auth-page {
            background: linear-gradient(to right, #e0f7fa, #b2ebf2); /* Light aqua gradient */
            padding: 50px 0;
            justify-content: center; /* Center content vertically */
            align-items: center; /* Center content horizontally */
        }

        .auth-page h2 {
            color: #00796b; /* Dark teal */
            margin-bottom: 30px;
        }

        .auth-page form {
            background-color: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            max-width: 450px;
            width: 100%;
            text-align: center;
            position: relative;
            overflow: hidden; /* For shining effect */
        }

        .auth-page form::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 70%);
            transform: rotate(45deg);
            animation: shine 3s infinite linear;
            opacity: 0;
        }

        @keyframes shine {
            0% { transform: rotate(45deg) translate(-100%, -100%); opacity: 0; }
            50% { opacity: 0.5; }
            100% { transform: rotate(45deg) translate(100%, 100%); opacity: 0; }
        }


        .form-group {
            margin-bottom: 20px;
            text-align: left;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }

        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group input[type="tel"],
        .form-group input[type="password"],
        .form-group input[type="number"],
        .form-group select {
            width: calc(100% - 20px);
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            border-color: #007bff;
            box-shadow: 0 0 8px rgba(0, 123, 255, 0.2);
            outline: none;
        }

        .password-toggle {
            position: absolute;
            right: 10px;
            top: 60%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #888;
        }

        .auth-link, .forgot-password {
            margin-top: 20px;
            font-size: 0.95em;
        }
        .auth-link a, .forgot-password a {
            color: #007bff;
            text-decoration: none;
            font-weight: bold;
        }
        .auth-link a:hover, .forgot-password a:hover {
            text-decoration: underline;
        }

        .error-message {
            color: #dc3545;
            font-size: 0.9em;
            margin-top: 5px;
            text-align: left;
        }


        /* Dashboard Layout */
        .dashboard-section {
            display: none; /* Hidden by default */
            flex-direction: column;
            height: 100%;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            background: linear-gradient(to right, #1a237e, #3f51b5); /* Deep indigo */
            color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            flex-shrink: 0; /* Prevent header from shrinking */
        }

        .dashboard-header .header-left, .dashboard-header .header-right {
            display: flex;
            align-items: center;
        }

        .dashboard-header .logo {
            display: flex;
            align-items: center;
            margin-right: 30px;
        }
        .dashboard-header .logo img {
            border-radius: 50%;
            margin-right: 10px;
            border: 2px solid white;
        }
        .dashboard-header .logo h3 {
            color: white;
            margin: 0;
            font-size: 1.5em;
        }

        .dashboard-header .user-info {
            font-size: 1.1em;
        }
        .dashboard-header .user-info #welcome-message {
            font-weight: bold;
            margin-right: 15px;
        }
        .dashboard-header .user-info #account-balance {
            background-color: #f7b731; /* Gold */
            color: #333;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: bold;
            animation: pulsate 1.5s infinite alternate;
        }

        @keyframes pulsate {
            from { transform: scale(1); box-shadow: 0 0 5px rgba(247, 183, 49, 0.5); }
            to { transform: scale(1.05); box-shadow: 0 0 15px rgba(247, 183, 49, 0.8); }
        }


        .welcome-bonus-badge {
            background: linear-gradient(45deg, #ff6b6b, #ee4040); /* Reddish gradient */
            color: white;
            padding: 8px 15px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 0.95em;
            animation: bounceFadeIn 1s ease-out;
            margin-right: 15px;
            box-shadow: 0 4px 10px rgba(255, 107, 107, 0.5);
        }

        @keyframes bounceFadeIn {
            0% { transform: scale(0.1); opacity: 0; }
            60% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); }
        }

        .dashboard-content {
            display: flex;
            flex-grow: 1; /* Allows content area to fill remaining space */
        }

        .sidebar {
            width: 250px;
            background: linear-gradient(to bottom, #2c3e50, #4a6a8c); /* Dark blue to lighter blue */
            padding: 20px;
            box-shadow: 4px 0 10px rgba(0, 0, 0, 0.1);
            flex-shrink: 0; /* Prevent sidebar from shrinking */
        }

        .dashboard-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .dashboard-nav ul li {
            margin-bottom: 10px;
        }
        .dashboard-nav ul li a {
            display: block;
            padding: 12px 15px;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: background-color 0.3s ease, transform 0.2s ease;
            display: flex;
            align-items: center;
            font-size: 1.05em;
        }
        .dashboard-nav ul li a i {
            margin-right: 10px;
            font-size: 1.2em;
        }
        .dashboard-nav ul li a:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }
        .dashboard-nav ul li a.active {
            background: linear-gradient(to right, #f7b731, #f29c00); /* Gold highlight */
            color: #333;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(247, 183, 49, 0.4);
        }
        .dashboard-nav ul li a.active:hover {
            background: linear-gradient(to right, #f29c00, #f7b731);
        }

        .main-dashboard-area {
            flex-grow: 1; /* Fill remaining space */
            padding: 30px;
            background-color: #f0f2f5; /* Light gray background for content */
            overflow-y: auto; /* Enable scrolling for long content */
        }

        .dashboard-tab-content {
            display: none; /* Hidden by default, shown by JS */
        }
        .dashboard-tab-content.active {
            display: block;
        }

        /* My Account Tab */
        #my-account-tab p {
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        #my-account-tab p strong {
            color: #004080;
        }
        #my-account-tab #display-account-balance-account {
            font-size: 1.5em;
            font-weight: bold;
            color: #28a745; /* Green for balance */
        }

        /* Investment Packages Grid */
        .package-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .package-card {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 2px solid transparent;
        }

        .package-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
            border-color: #007bff; /* Highlight on hover */
        }

        .package-card h3 {
            color: #004080;
            margin-top: 0;
            font-size: 1.7em;
        }
        .package-card .range {
            font-size: 1.1em;
            color: #666;
            margin-bottom: 10px;
        }
        .package-card .earning {
            font-size: 1.4em;
            font-weight: bold;
            color: #28a745; /* Green for earnings */
            margin-bottom: 15px;
        }
        .package-card .earning span {
            background-color: #d4edda;
            padding: 5px 10px;
            border-radius: 5px;
        }
        .package-card .duration {
            font-size: 1em;
            color: #888;
            margin-bottom: 20px;
        }

        /* Data Tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: white;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            border-radius: 8px;
            overflow: hidden; /* Ensures rounded corners */
        }

        .data-table th, .data-table td {
            border: 1px solid #e0e0e0;
            padding: 12px 15px;
            text-align: left;
        }

        .data-table th {
            background-color: #007bff;
            color: white;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.9em;
        }

        .data-table tr:nth-child(even) {
            background-color: #f8f8f8;
        }

        .data-table tr:hover {
            background-color: #f1f1f1;
        }

        /* Deposit and Withdraw */
        .deposit-options, .deposit-form, #withdrawal-form {
            background-color: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }

        .deposit-options {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }

        .deposit-method {
            flex: 1 1 300px; /* Allows cards to wrap */
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            background-color: #fdfdfd;
            transition: box-shadow 0.3s ease;
        }

        .deposit-method:hover {
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .deposit-method .payment-logo {
            width: 100px;
            height: 100px;
            margin-bottom: 15px;
            border-radius: 15px;
            object-fit: contain;
            background-color: #ffffff;
            padding: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            border: 2px solid #e9ecef;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: logoFadeIn 0.6s ease-out forwards;
            position: relative;
        }

        .mtn-logo-fallback {
            width: 100px;
            height: 100px;
            margin-bottom: 15px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000000;
            font-weight: bold;
            font-size: 20px;
            text-shadow: 2px 2px 4px rgba(255,255,255,0.8);
            background: linear-gradient(135deg, #ffc107 0%, #ff9800 100%);
            box-shadow: 0 6px 20px rgba(255, 193, 7, 0.4);
            border: 3px solid #fff;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: logoFadeIn 0.6s ease-out forwards;
            position: relative;
            overflow: hidden;
        }

        .mtn-logo-fallback::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 70%);
            transform: rotate(45deg);
            animation: shine 2s infinite linear;
            opacity: 0;
        }

        .mtn-logo-fallback:hover::before {
            opacity: 0.6;
        }

        @keyframes logoFadeIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .deposit-method .payment-logo:hover {
            transform: scale(1.08);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
            border-color: #007bff;
        }

        /* Fallback styling for failed logo loads */
        .deposit-method .payment-logo[src*="https://www.flaticon.com/free-icon/deposit_2207743"] {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
            text-align: center;
        }

        /* Enhanced logo visibility */
        .deposit-method .payment-logo {
            position: relative;
        }

        .deposit-method .payment-logo::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #007bff, #28a745, #ffc107, #dc3545);
            border-radius: 17px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .deposit-method:hover .payment-logo::before {
            opacity: 0.3;
        }

        .deposit-method h3 {
            margin-top: 0;
            color: #004080;
        }

        .deposit-method p {
            font-size: 0.9em;
            color: #666;
        }

        .min-max-info {
            font-weight: bold;
            color: #007bff;
            text-align: center;
            margin-bottom: 20px;
        }

        /* Referrals */
        .referral-info {
            background-color: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
            text-align: center;
        }

        .referral-info p {
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        .referral-info strong {
            color: #28a745;
        }
        .referral-info a {
            color: #007bff;
            text-decoration: none;
        }
        .referral-info a:hover {
            text-decoration: underline;
        }


        /* Customer Care */
        .contact-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .contact-card {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .contact-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

        .contact-card .icon-large {
            font-size: 4em;
            margin-bottom: 15px;
        }
        .whatsapp-color { color: #25D366; }
        .telegram-color { color: #0088cc; }
        .email-color { color: #D44638; } /* Gmail red */
        .location-color { color: #f44336; } /* Red */

        .contact-card h3 {
            margin-top: 0;
            color: #004080;
        }
        .contact-card p {
            font-size: 0.95em;
            color: #666;
        }
        .contact-card .btn {
            margin-top: 15px;
            width: 80%;
        }
        .btn-whatsapp { background-color: #25D366; color: white; }
        .btn-whatsapp:hover { background-color: #1DA851; }
        .btn-telegram { background-color: #0088cc; color: white; }
        .btn-telegram:hover { background-color: #006da7; }
        .btn-email { background-color: #D44638; color: white; }
        .btn-email:hover { background-color: #B03429; }

        /* Modal Styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.6); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 30px;
            border: 1px solid #888;
            width: 90%;
            max-width: 500px;
            border-radius: 15px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            text-align: center;
            animation: fadeInZoom 0.3s ease-out;
        }

        @keyframes fadeInZoom {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }

        .modal-content h3 {
            color: #007bff;
            margin-top: 0;
        }

        .modal-content input[type="number"] {
            width: calc(100% - 40px);
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1.1em;
        }

        .modal .close-button {
            color: #aaa;
            position: absolute;
            right: 20px;
            top: 10px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .modal .close-button:hover,
        .modal .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        /* Utility */
        .hidden {
            display: none !important;
        }

        hr {
            border: 0;
            height: 1px;
            background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0));
            margin: 40px 0;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .hero-section {
                flex-direction: column;
                text-align: center;
            }
            .hero-content, .hero-graphics {
                max-width: 100%;
            }
            .main-header {
                flex-direction: column;
                padding: 15px;
            }
            .main-header nav ul {
                margin-top: 15px;
                flex-wrap: wrap;
                justify-content: center;
            }
            .main-header nav ul li {
                margin: 5px 15px;
            }
            .auth-buttons {
                margin-top: 15px;
            }
            .dashboard-content {
                flex-direction: column;
            }
            .sidebar {
                width: 100%;
                padding: 15px;
            }
            .dashboard-nav ul {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }
            .dashboard-nav ul li {
                margin: 5px 10px;
            }
            .main-dashboard-area {
                padding: 20px;
            }
            .package-grid, .contact-methods {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.5em; }
            h2 { font-size: 2em; }
            .hero-content .motto {
                font-size: 2.8em;
            }
            .work-process .step {
                width: 100%;
            }
            .auth-page form {
                padding: 30px;
            }
            .dashboard-header {
                flex-direction: column;
                align-items: flex-start;
            }
            .dashboard-header .header-right {
                width: 100%;
                justify-content: space-between;
                margin-top: 15px;
            }
            .dashboard-header .logo {
                margin-bottom: 10px;
            }
            .dashboard-header .user-info {
                font-size: 1em;
                margin-bottom: 10px;
            }
            .data-table th, .data-table td {
                font-size: 0.9em;
                padding: 8px 10px;
            }
        }

        @media (max-width: 480px) {
            .main-header {
                padding: 10px;
            }
            .main-header .logo h1 {
                font-size: 1.5em;
            }
            .main-header nav ul li {
                margin: 5px 8px;
                font-size: 0.9em;
            }
            .hero-section {
                padding: 30px 20px;
            }
            .hero-content .motto {
                font-size: 2em;
            }
            .hero-content .mission {
                font-size: 1em;
            }
            .btn {
                padding: 10px 20px;
                font-size: 1em;
            }
            .auth-page form {
                padding: 20px;
            }
            .deposit-method {
                flex: 1 1 100%;
            }
            .package-card {
                padding: 20px;
            }
            .deposit-method .payment-logo {
                width: 80px;
                height: 80px;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <section id="welcome-page" class="active-page">
            <header class="main-header">
                <div class="logo">
                    <img src="https://www.brandbucket.com/sites/default/files/logo_uploads/328122/large_dailyearnings_0.png"
                         alt="DailyEarners Logo"
                         onerror="this.onerror=null; this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjUiIGN5PSIyNSIgcj0iMjUiIGZpbGw9IiMwMDdiZmYiLz4KPHRleHQgeD0iMjUiIHk9IjMwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSIgZm9udC1zaXplPSIxMiIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iYm9sZCI+REU8L3RleHQ+Cjwvc3ZnPg=='; this.style.display='block';">
                    <h1>DailyEarners</h1>
                </div>
                <nav>
                    <ul>
                        <li><a href="#" onclick="showPage('welcome-page')">Home</a></li>
                        <li><a href="#" onclick="showPage('packages-section')">Investments</a></li>
                        <li><a href="#" onclick="showPage('how-we-work-section')">How We Work</a></li>
                        <li><a href="#" onclick="showPage('contact-section')">Contact</a></li>
                    </ul>
                </nav>
                <div class="auth-buttons">
                    <button class="btn btn-login" onclick="showPage('login-page')">Login</button>
                    <button class="btn btn-register" onclick="showPage('register-page')">Register</button>
                </div>
            </header>
            <main class="hero-section">
                <div class="hero-content">
                    <h2 class="motto">Invest Smart, Earn Daily, Secure Your Future.</h2>
                    <p class="mission">At DailyEarners, we empower every individual to achieve financial freedom. Through strategic trading and smart stock investments, we provide a secure and transparent platform for you to grow your wealth, daily. Join us in 2025 and build your legacy!</p>
                    <button class="btn btn-primary" onclick="showPage('register-page')">Get Started Now</button>
                </div>
                <div class="hero-graphics">
                    <img id="hero-image" src="https://www.vecteezy.com/vector-art/24813386-stock-market-growth-in-futuristic-technology-style-successful-financial-graphic-on-blue-background-business-growth-illustration-with-the-bar-chart-static-and-up-arrow" alt="Stock Market Growth">
                </div>
            </main>

            <section id="how-we-work-section" class="info-section">
                <h2>How We Generate Money</h2>
                <div class="work-process">
                    <div class="step">
                        <i class="fas fa-chart-line icon-large"></i>
                        <h3>Strategic Trading</h3>
                        <p>Our expert traders analyze market trends and execute profitable trades in various financial instruments.</p>
                    </div>
                    <div class="step">
                        <i class="fas fa-sack-dollar icon-large"></i>
                        <h3>Smart Stock Investments</h3>
                        <p>We invest in high-growth potential stocks, diversifying portfolios for optimal returns.</p>
                    </div>
                    <div class="step">
                        <i class="fas fa-handshake icon-large"></i>
                        <h3>Profit Sharing</h3>
                        <p>A portion of the generated profits is distributed to our valued investors daily, based on their chosen package.</p>
                    </div>
                </div>
            </section>
            </section>

        <section id="register-page" class="auth-page">
            <button class="back-btn" onclick="showPage('welcome-page')"><i class="fas fa-arrow-left"></i> Back</button>
            <h2>Register Your Account</h2>
            <form id="registration-form">
                <div class="form-group">
                    <label for="reg-username">Username:</label>
                    <input type="text" id="reg-username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="reg-email">Email:</label>
                    <input type="email" id="reg-email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="reg-phone">Telephone Number:</label>
                    <input type="tel" id="reg-phone" name="phone" required>
                </div>
                <div class="form-group">
                    <label for="reg-password">Password:</label>
                    <input type="password" id="reg-password" name="password" required>
                    <span class="password-toggle" onclick="togglePassword('reg-password')"><i class="fas fa-eye"></i></span>
                </div>
                <div class="form-group">
                    <label for="reg-confirm-password">Confirm Password:</label>
                    <input type="password" id="reg-confirm-password" name="confirm_password" required>
                    <span class="password-toggle" onclick="togglePassword('reg-confirm-password')"><i class="fas fa-eye"></i></span>
                </div>
                <button type="submit" class="btn btn-primary">Sign Up</button>
                <p class="auth-link">Already have an account? <a href="#" onclick="showPage('login-page')">Login</a></p>
            </form>

            <!-- Welcome Bonus Claim Button -->
            <div id="welcome-bonus-section" class="welcome-bonus-claim" style="display: none; margin-top: 30px; text-align: center;">
                <div style="background: linear-gradient(135deg, #28a745, #20c997); padding: 25px; border-radius: 15px; box-shadow: 0 8px 25px rgba(40, 167, 69, 0.3);">
                    <h3 style="margin: 0 0 15px 0; color: white; font-size: 1.5em;"><i class="fas fa-gift"></i> Welcome Bonus!</h3>
                    <p style="margin: 0 0 20px 0; font-size: 1.1em; color: white;">Congratulations on joining DailyEarners! Click below to claim your welcome bonus.</p>
                    <button id="claim-bonus-btn" class="btn btn-primary" style="background: #ffc107; color: #333; font-size: 1.3em; padding: 18px 35px; border: none; border-radius: 25px; font-weight: bold; box-shadow: 0 6px 15px rgba(255, 193, 7, 0.4); transition: all 0.3s ease;">
                        <i class="fas fa-coins"></i> Claim UGX 4,000 Bonus
                    </button>
                    <p style="margin: 15px 0 0 0; font-size: 0.9em; color: rgba(255,255,255,0.8);">
                        <i class="fas fa-info-circle"></i> This bonus can only be claimed once per account
                    </p>
                </div>
            </div>
        </section>

        <section id="login-page" class="auth-page">
            <button class="back-btn" onclick="showPage('welcome-page')"><i class="fas fa-arrow-left"></i> Back</button>
            <h2>Login to Your Account</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="login-username-email">Username or Email:</label>
                    <input type="text" id="login-username-email" name="username_email" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Password:</label>
                    <input type="password" id="login-password" name="password" required>
                    <span class="password-toggle" onclick="togglePassword('login-password')"><i class="fas fa-eye"></i></span>
                </div>
                <p class="forgot-password"><a href="#" onclick="showPage('forgot-password-page')">Forgot Password?</a></p>
                <button type="submit" class="btn btn-primary">Login</button>
                <p class="auth-link">Don't have an account? <a href="#" onclick="showPage('register-page')">Register</a></p>
            </form>
        </section>

        <section id="forgot-password-page" class="auth-page">
            <button class="back-btn" onclick="showPage('login-page')"><i class="fas fa-arrow-left"></i> Back</button>
            <h2>Reset Your Password</h2>
            <p>Enter your registered email address to receive a password reset link.</p>
            <form id="forgot-password-form">
                <div class="form-group">
                    <label for="forgot-email">Email:</label>
                    <input type="email" id="forgot-email" name="email" required>
                </div>
                <button type="submit" class="btn btn-primary">Reset Password</button>
            </form>
        </section>

        <section id="packages-section" class="info-section">
            <button class="back-btn" onclick="showPage('welcome-page')"><i class="fas fa-arrow-left"></i> Back to Home</button>
            <h2>Investment Packages</h2>
            <p>Choose from our range of carefully designed investment packages to start your journey towards financial freedom.</p>

            <div class="package-grid">
                <div class="package-card">
                    <h3>Basic Plan</h3>
                    <p class="range">UGX 10,000 - 40,000</p>
                    <p class="earning">Daily Earning: <span>5%</span></p>
                    <p class="duration">Duration: 21 Days</p>
                    <button class="btn btn-apply" onclick="showPage('login-page')">Login to Apply</button>
                </div>
                <div class="package-card">
                    <h3>Standard Plan</h3>
                    <p class="range">UGX 50,000 - 90,000</p>
                    <p class="earning">Daily Earning: <span>8%</span></p>
                    <p class="duration">Duration: 21 Days</p>
                    <button class="btn btn-apply" onclick="showPage('login-page')">Login to Apply</button>
                </div>
                <div class="package-card">
                    <h3>Premium VIP</h3>
                    <p class="range">UGX 100,000 - 200,000</p>
                    <p class="earning">Daily Earning: <span>10%</span></p>
                    <p class="duration">Duration: 21 Days</p>
                    <button class="btn btn-apply" onclick="showPage('login-page')">Login to Apply</button>
                </div>
                <div class="package-card">
                    <h3>Fixed Deposit (30 Days)</h3>
                    <p class="range">UGX 300,000 - 499,999</p>
                    <p class="earning">Daily Earning: <span>15%</span></p>
                    <p class="duration">Duration: 25 Days</p>
                    <button class="btn btn-apply" onclick="showPage('login-page')">Login to Apply</button>
                </div>
                <div class="package-card">
                    <h3>Fixed Deposit (60 Days)</h3>
                    <p class="range">UGX 500,000 - 1,500,000</p>
                    <p class="earning">Daily Earning: <span>15%</span></p>
                    <p class="duration">Duration: 30 Days</p>
                    <button class="btn btn-apply" onclick="showPage('login-page')">Login to Apply</button>
                </div>
                <div class="package-card">
                    <h3>Elite Fixed Deposit</h3>
                    <p class="range">UGX 1,600,000 - 3,000,000</p>
                    <p class="earning">Daily Earning: <span>15%</span></p>
                    <p class="duration">Duration: 60 Days</p>
                    <button class="btn btn-apply" onclick="showPage('login-page')">Login to Apply</button>
                </div>
            </div>
        </section>

        <section id="contact-section" class="info-section">
            <button class="back-btn" onclick="showPage('welcome-page')"><i class="fas fa-arrow-left"></i> Back to Home</button>
            <h2>Contact Us</h2>
            <p>Get in touch with our customer support team for any inquiries or assistance.</p>

            <div class="contact-methods">
                <div class="contact-card">
                    <i class="fab fa-whatsapp icon-large whatsapp-color"></i>
                    <h3>WhatsApp Support</h3>
                    <p>Chat with us instantly</p>
                    <a href="https://wa.me/256700913516" target="_blank" class="btn btn-whatsapp">0746160623</a>
                </div>
                <div class="contact-card">
                    <i class="fab fa-telegram-plane icon-large telegram-color"></i>
                    <h3>Telegram Support</h3>
                    <p>Connect on Telegram</p>
                    <a href="https://t.me/dailyearners_support" target="_blank" class="btn btn-telegram">0700913516</a>
                </div>
                <div class="contact-card">
                    <i class="fas fa-envelope icon-large email-color"></i>
                    <h3>Email Support</h3>
                    <p>Send us an email</p>
                    <a href="mailto:dailyearners123@gmail.com" class="btn btn-email">dailyearners123@gmail.com</a>
                </div>
                <div class="contact-card">
                    <i class="fas fa-map-marker-alt icon-large location-color"></i>
                    <h3>Our Office</h3>
                    <p>Visit us at:</p>
                    <p><strong>Bugubugu Arcade, Block 15, Edition 4</strong></p>
                    <p>Kampala, Uganda</p>
                </div>
            </div>

            <div style="margin-top: 40px; text-align: center;">
                <p><strong>Business Hours:</strong> Monday - Friday: 8:00 AM - 6:00 PM</p>
                <p><strong>Customer Support:</strong> Available 24/7 via WhatsApp and Telegram</p>
            </div>
        </section>


        <section id="dashboard-page" class="dashboard-section" style="display: none;">
            <header class="dashboard-header">
                <div class="header-left">
                    <div class="logo">
                        <img src="https://www.brandbucket.com/sites/default/files/logo_uploads/328122/large_dailyearnings_0.png"
                             alt="DailyEarners Logo"
                             onerror="this.onerror=null; this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiMwMDdiZmYiLz4KPHRleHQgeD0iMjAiIHk9IjI0IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSIgZm9udC1zaXplPSI5IiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSJib2xkIj5ERTwvdGV4dD4KPC9zdmc+'; this.style.display='block';">
                        <h3>DailyEarners</h3>
                    </div>
                    <div class="user-info">
                        <span id="welcome-message"></span>
                        <span id="account-balance">Current Balance: UGX 0</span>
                    </div>
                </div>
                <div class="header-right">
                    <div id="welcome-bonus-display" class="welcome-bonus-badge">Welcome Bonus: UGX 4,000!</div>
                    <button class="btn btn-logout" onclick="logoutUser()">Logout <i class="fas fa-sign-out-alt"></i></button>
                </div>
            </header>

            <div class="dashboard-content">
                <aside class="sidebar">
                    <nav class="dashboard-nav">
                        <ul>
                            <li><a href="#" class="nav-item active" data-target="my-account-tab"><i class="fas fa-user"></i> My Account</a></li>
                            <li><a href="#" class="nav-item" data-target="investment-packages-tab"><i class="fas fa-hand-holding-usd"></i> Investment Packages</a></li>
                            <li><a href="#" class="nav-item" data-target="my-investments-tab"><i class="fas fa-chart-area"></i> My Investments</a></li>
                            <li><a href="#" class="nav-item" data-target="deposit-tab"><i class="fas fa-money-bill-transfer"></i> Deposit</a></li>
                            <li><a href="#" class="nav-item" data-target="withdraw-tab"><i class="fas fa-wallet"></i> Withdraw</a></li>
                            <li><a href="#" class="nav-item" data-target="referrals-tab"><i class="fas fa-user-group"></i> Referrals</a></li>
                            <li><a href="#" class="nav-item" data-target="customer-care-tab"><i class="fas fa-headset"></i> Customer Care</a></li>
                            <li id="admin-nav-item" style="display: none;"><a href="#" class="nav-item" data-target="admin-tab"><i class="fas fa-crown"></i> Admin Panel</a></li>
                        </ul>
                    </nav>
                </aside>

                <main class="main-dashboard-area">
                    <div id="my-account-tab" class="dashboard-tab-content active">
                        <h2>My Account Details</h2>
                        <p><strong>Username:</strong> <span id="display-username"></span></p>
                        <p><strong>Email:</strong> <span id="display-email"></span></p>
                        <p><strong>Phone:</strong> <span id="display-phone"></span></p>
                        <p><strong>Account Balance:</strong> <span id="display-account-balance-account">UGX 0</span></p>
                        </div>

                    <div id="investment-packages-tab" class="dashboard-tab-content">
                        <h2>Choose Your Investment Plan</h2>
                        <div class="package-grid">
                            <div class="package-card">
                                <h3>Basic Plan</h3>
                                <p class="range">UGX 10,000 - 40,000</p>
                                <p class="earning">Daily Earning: <span>5%</span></p>
                                <p class="duration">Duration: 21 Days</p>
                                <button class="btn btn-apply" data-package="Basic Plan" data-min="10000" data-max="40000" data-earning="0.05">Apply Now</button>
                            </div>
                            <div class="package-card">
                                <h3>Standard Plan</h3>
                                <p class="range">UGX 50,000 - 90,000</p>
                                <p class="earning">Daily Earning: <span>8%</span></p>
                                <p class="duration">Duration: 21 Days</p>
                                <button class="btn btn-apply" data-package="Standard Plan" data-min="50000" data-max="90000" data-earning="0.08">Apply Now</button>
                            </div>
                            <div class="package-card">
                                <h3>Premium VIP</h3>
                                <p class="range">UGX 100,000 - 200,000</p>
                                <p class="earning">Daily Earning: <span>10%</span></p>
                                <p class="duration">Duration: 21 Days</p>
                                <button class="btn btn-apply" data-package="Premium VIP" data-min="100000" data-max="200000" data-earning="0.10">Apply Now</button>
                            </div>
                            <div class="package-card">
                                <h3>Fixed Deposit (30 Days)</h3>
                                <p class="range">UGX 300,000 - 499,999</p>
                                <p class="earning">Daily Earning: <span>15%</span></p>
                                <p class="duration">Duration: 25 Days</p> <button class="btn btn-apply" data-package="Fixed Deposit (30 Days)" data-min="300000" data-max="499999" data-earning="0.15">Apply Now</button>
                            </div>
                            <div class="package-card">
                                <h3>Fixed Deposit (60 Days)</h3>
                                <p class="range">UGX 500,000 - 1,500,000</p>
                                <p class="earning">Daily Earning: <span>15%</span></p>
                                <p class="duration">Duration: 30 Days</p>
                                <button class="btn btn-apply" data-package="Fixed Deposit (60 Days)" data-min="500000" data-max="1500000" data-earning="0.15">Apply Now</button>
                            </div>
                            <div class="package-card">
                                <h3>Elite Fixed Deposit</h3>
                                <p class="range">UGX 1,600,000 - 3,000,000</p>
                                <p class="earning">Daily Earning: <span>15%</span></p>
                                <p class="duration">Duration: 60 Days</p>
                                <button class="btn btn-apply" data-package="Elite Fixed Deposit" data-min="1600000" data-max="3000000" data-earning="0.15">Apply Now</button>
                            </div>
                        </div>
                    </div>

                    <div id="my-investments-tab" class="dashboard-tab-content">
                        <h2>Your Active Investments</h2>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Plan Name</th>
                                    <th>Invested Amount</th>
                                    <th>Daily Earning Rate</th>
                                    <th>Start Date</th>
                                    <th>End Date</th>
                                    <th>Remaining Time</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="investments-table-body">
                                <tr>
                                    <td colspan="7">No active investments yet.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div id="deposit-tab" class="dashboard-tab-content">
                        <h2>Deposit Funds</h2>
                        <p class="min-max-info">Min Deposit: UGX 10,000 | Max Deposit: UGX 3,000,000</p>
                        <div class="deposit-options">
                            <div class="deposit-method">
                                <img src="https://logos-world.net/wp-content/uploads/2020/11/Airtel-Logo.png" alt="Airtel Money Logo" class="payment-logo" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiByeD0iMTUiIGZpbGw9IiNkYzE0M2MiLz4KPHRleHQgeD0iNTAiIHk9IjU4IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSJ3aGl0ZSIgZm9udC1zaXplPSIyMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iYm9sZCI+YWlydGVsPC90ZXh0Pgo8L3N2Zz4='">
                                <h3>Airtel Money</h3>
                                <p>Send money to: <strong>0746160623 (Kisakye Reagan)</strong></p>
                                <form class="deposit-form" data-method="Airtel">
                                    <div class="form-group">
                                        <label for="airtel-amount">Amount (UGX):</label>
                                        <input type="number" id="airtel-amount" min="10000" max="3000000" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="airtel-transaction-id">Transaction ID:</label>
                                        <input type="text" id="airtel-transaction-id" required>
                                    </div>
                                    <button type="submit" class="btn btn-success">Confirm Deposit</button>
                                </form>
                            </div>

                            <div class="deposit-method">
                                <img src="https://uxwing.com/wp-content/themes/uxwing/download/brands-and-social-media/mtn-mobile-logo-icon.svg" alt="MTN Mobile Money Logo" class="payment-logo" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiByeD0iMTUiIGZpbGw9IiNmZmMxMDciLz4KPHRleHQgeD0iNTAiIHk9IjU4IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjI0IiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtd2VpZ2h0PSJib2xkIj5NV04gPC90ZXh0Pgo8L3N2Zz4='">
                                <h3>MTN Mobile Money</h3>
                                <p>Send money to: <strong>0746160623 (Kisakye Reagan)</strong></p>
                                <form class="deposit-form" data-method="MTN">
                                    <div class="form-group">
                                        <label for="mtn-amount">Amount (UGX):</label>
                                        <input type="number" id="mtn-amount" min="10000" max="3000000" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="mtn-transaction-id">Transaction ID:</label>
                                        <input type="text" id="mtn-transaction-id" required>
                                    </div>
                                    <button type="submit" class="btn btn-success">Confirm Deposit</button>
                                </form>
                            </div>

                        </div>

                        <hr>
                        <h3>Deposit History</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Amount</th>
                                    <th>Method</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="deposit-history-body">
                                <tr>
                                    <td colspan="4">No deposit history.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div id="withdraw-tab" class="dashboard-tab-content">
                        <h2>Withdraw Funds</h2>
                        <p class="min-max-info">Min Withdrawal: UGX 7,000</p>
                        <form id="withdrawal-form">
                            <div class="form-group">
                                <label for="withdraw-amount">Amount (UGX):</label>
                                <input type="number" id="withdraw-amount" min="7000" required>
                            </div>
                            <div class="form-group">
                                <label for="withdraw-method">Withdrawal Method:</label>
                                <select id="withdraw-method" required>
                                    <option value="">Select Method</option>
                                    <option value="Airtel Money">Airtel Money</option>
                                    <option value="MTN Mobile Money">MTN Mobile Money</option>
                                    </select>
                            </div>
                            <div class="form-group">
                                <label for="withdraw-number">Mobile Money Number:</label>
                                <input type="tel" id="withdraw-number" required>
                            </div>
                            <button type="submit" class="btn btn-danger">Request Withdrawal</button>
                        </form>

                        <hr>
                        <h3>Withdrawal History</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Amount</th>
                                    <th>Method</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="withdraw-history-body">
                                <tr>
                                    <td colspan="4">No withdrawal history.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div id="referrals-tab" class="dashboard-tab-content">
                        <h2>Referral Program</h2>
                        <p>Share your unique referral code and link to earn bonuses!</p>
                        <div class="referral-info">
                            <p>Your Referral Code: <strong id="referral-code-display">DAILYEARNERSUSER123</strong></p>
                            <p>Your Referral Link: <a href="https://dailyearners.com/username" id="referral-link-display" target="_blank">dailyearners.com/username</a></p>
                            <button class="btn btn-copy" onclick="copyReferralLink()">Copy Link <i class="fas fa-copy"></i></button>
                        </div>

                        <h3>Referral Bonus Structure (10% on first deposit)</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Amount Invested by Referral</th>
                                    <th>Your Bonus (10%)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>UGX 10,000</td><td>UGX 1,000</td></tr>
                                <tr><td>UGX 50,000</td><td>UGX 5,000</td></tr>
                                <tr><td>UGX 100,000</td><td>UGX 10,000</td></tr>
                                <tr><td>UGX 500,000</td><td>UGX 50,000</td></tr>
                                <tr><td>UGX 1,000,000</td><td>UGX 100,000</td></tr>
                                <tr><td>UGX 3,000,000</td><td>UGX 300,000</td></tr>
                            </tbody>
                        </table>

                        <h3 style="margin-top: 30px;">My Referrals</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Referred User</th>
                                    <th>Date Joined</th>
                                    <th>Total Investment by Referral</th>
                                    <th>Your Earned Bonus</th>
                                </tr>
                            </thead>
                            <tbody id="my-referrals-table-body">
                                <tr><td colspan="4">No referrals yet.</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <div id="customer-care-tab" class="dashboard-tab-content">
                        <h2>Customer Care & Support</h2>
                        <div class="contact-methods">
                            <div class="contact-card">
                                <i class="fab fa-whatsapp icon-large whatsapp-color"></i>
                                <h3>WhatsApp Support</h3>
                                <p>Chat with us instantly:</p>
                                <a href="https://wa.me/256700913516" target="_blank" class="btn btn-whatsapp">0746160623</a>
                            </div>
                            <div class="contact-card">
                                <i class="fab fa-telegram-plane icon-large telegram-color"></i>
                                <h3>Telegram Support</h3>
                                <p>Connect on Telegram:</p>
                                <a href="https://t.me/your_telegram_username_or_number" target="_blank" class="btn btn-telegram">0700913516</a>
                            </div>
                            <div class="contact-card">
                                <i class="fas fa-envelope icon-large email-color"></i>
                                <h3>Email Support</h3>
                                <p>Send us an email:</p>
                                <a href="mailto:dailyearners123@gmail.com" class="btn btn-email">dailyearners123@gmail.com</a>
                            </div>
                            <div class="contact-card">
                                <i class="fas fa-map-marker-alt icon-large location-color"></i>
                                <h3>Our Office</h3>
                                <p>Kampala, Uganda</p>
                                <p>Bugubugu Arcade, Block 15, Edition 4</p>
                            </div>
                        </div>
                    </div>

                    <div id="admin-tab" class="dashboard-tab-content" style="display: none;">
                        <h2><i class="fas fa-crown"></i> Admin Panel</h2>
                        <p>Manage transactions and users</p>

                        <div style="margin-bottom: 30px;">
                            <button onclick="showAdminTab('pending-deposits')" class="btn btn-primary">Pending Deposits</button>
                            <button onclick="showAdminTab('pending-withdrawals')" class="btn btn-info">Pending Withdrawals</button>
                            <button onclick="showAdminTab('all-users')" class="btn btn-success">All Users</button>
                        </div>

                        <div id="pending-deposits-tab" class="admin-tab-content" style="display: block;">
                            <h3>Pending Deposits</h3>
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>User</th>
                                        <th>Amount</th>
                                        <th>Method</th>
                                        <th>Transaction ID</th>
                                        <th>Date</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="pending-deposits-body">
                                    <tr><td colspan="6">Loading pending deposits...</td></tr>
                                </tbody>
                            </table>
                        </div>

                        <div id="pending-withdrawals-tab" class="admin-tab-content" style="display: none;">
                            <h3>Pending Withdrawals</h3>
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>User</th>
                                        <th>Amount</th>
                                        <th>Method</th>
                                        <th>Mobile Number</th>
                                        <th>Date</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="pending-withdrawals-body">
                                    <tr><td colspan="6">Loading pending withdrawals...</td></tr>
                                </tbody>
                            </table>
                        </div>

                        <div id="all-users-tab" class="admin-tab-content" style="display: none;">
                            <h3>All Users</h3>
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Username</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>Balance</th>
                                        <th>Joined</th>
                                    </tr>
                                </thead>
                                <tbody id="all-users-body">
                                    <tr><td colspan="5">Loading users...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </main>
            </div>
        </section>

        <div id="investment-modal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h3 id="modal-package-name"></h3>
                <p>Enter the amount you wish to invest (UGX):</p>
                <input type="number" id="invest-amount-input" min="10000" max="3000000" required>
                <button id="confirm-investment-btn" class="btn btn-primary">Confirm Investment</button>
                <p id="investment-modal-error" class="error-message"></p>
            </div>
        </div>

    </div>
    <!-- Load Supabase from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.58.0/dist/umd/supabase.js"></script>

    <!-- Essential functions available immediately -->
    <script>
        // Make essential functions globally available immediately
        window.showPage = function showPage(pageId) {
            console.log('showPage called with:', pageId);

            // Hide all sections first
            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('active-page');
                section.style.display = 'none';
            });

            // Show target section
            const targetSection = document.getElementById(pageId);
            if (targetSection) {
                targetSection.classList.add('active-page');
                targetSection.style.display = 'flex';
                console.log('Switched to page:', pageId);
            } else {
                console.error('Page not found:', pageId);
            }
        };

        // Global state
        window.isLoggedIn = false;
        window.currentUser = null;
        window.currentUsername = '';
        window.currentEmail = '';
        window.currentPhone = '';
        window.accountBalance = 0;
        window.welcomeBonusAmount = 0;

        console.log('DailyEarners functions loaded successfully');
    </script>

    <script type="module">
        // Load environment variables for Vite
        import { dailyEarnersAPI } from './supabase-client.js';

        // Make environment variables available globally for the config
        window.ENV = {
            VITE_SUPABASE_URL: 'https://tceenudefdmtqoybiloy.supabase.co',
            VITE_SUPABASE_ANON_KEY: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRjZWVudWRlZmRtdHFveWJpbG95Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4MzgyOTYsImV4cCI6MjA3NDQxNDI5Nn0.NMQnk-o-WQgn5xg_p0NvOGbczXf4R-aedVgDyPpJcno'
        };

        // Test user registration example
        // const result = await dailyEarnersAPI.signUp(
        //     'test@example.com',
        //     'password123',
        //     'testuser',
        //     '+256701234567'
        // );

        // Make essential functions globally available immediately
        // Make essential functions globally available immediately
        window.showPage = function showPage(pageId) {
            console.log('showPage called with:', pageId);
            // Check if trying to access dashboard without authentication
            if (pageId === 'dashboard-page' && !window.isAuthenticated()) {
                alert('Please login to access the dashboard.');
                showPage('login-page');
                return;
            }

            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('active-page');
                section.style.display = 'none';
            });

            const targetSection = document.getElementById(pageId);
            if (targetSection) {
                targetSection.classList.add('active-page');
                targetSection.style.display = 'flex';
            }

            // Special handling for dashboard tabs
            if (pageId === 'dashboard-page') {
                const defaultTab = document.querySelector('.dashboard-nav .nav-item.active');
                if (defaultTab) {
                    window.showDashboardTab(defaultTab.dataset.target);
                } else {
                    window.showDashboardTab('my-account-tab');
                }
            }
        };

        window.showDashboardTab = function showDashboardTab(tabId) {
            console.log('showDashboardTab called with:', tabId);
            document.querySelectorAll('.dashboard-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            const targetTab = document.getElementById(tabId);
            if (targetTab) {
                targetTab.classList.add('active');
            }

            document.querySelectorAll('.dashboard-nav .nav-item').forEach(navItem => {
                navItem.classList.remove('active');
            });
            const activeNavItem = document.querySelector(`.dashboard-nav .nav-item[data-target="${tabId}"]`);
            if (activeNavItem) {
                activeNavItem.classList.add('active');
            }
        };

        window.togglePassword = function togglePassword(id) {
            const input = document.getElementById(id);
            if (input) {
                const icon = input.nextElementSibling?.querySelector('i');
                if (input.type === 'password') {
                    input.type = 'text';
                    if (icon) {
                        icon.classList.remove('fa-eye');
                        icon.classList.add('fa-eye-slash');
                    }
                } else {
                    input.type = 'password';
                    if (icon) {
                        icon.classList.remove('fa-eye-slash');
                        icon.classList.add('fa-eye');
                    }
                }
            }
        };

        window.copyReferralLink = function copyReferralLink() {
            const referralLink = document.getElementById('referral-link-display')?.href;
            if (referralLink) {
                navigator.clipboard.writeText(referralLink).then(() => {
                    alert('Referral link copied to clipboard!');
                }).catch(err => {
                    console.error('Failed to copy text: ', err);
                });
            }
        };

        // Global state variables
        window.isLoggedIn = false;
        window.currentUser = null;
        window.currentUsername = '';
        window.currentEmail = '';
        window.currentPhone = '';
        window.accountBalance = 0;
        window.welcomeBonusAmount = 0;
        window.investments = [];
        window.depositHistory = [];
        window.withdrawHistory = [];
        window.referralCode = 'DAILYEARNERSUSER123';

        // Helper function to check authentication
        window.isAuthenticated = function() {
            return window.isLoggedIn;
        };

        window.logoutUser = function logoutUser() {
            console.log('logoutUser called');
            // Reset all global state
            window.isLoggedIn = false;
            window.currentUser = null;
            window.currentUsername = '';
            window.currentEmail = '';
            window.currentPhone = '';
            window.accountBalance = 0;
            window.welcomeBonusAmount = 0;
            window.investments = [];
            window.depositHistory = [];
            window.withdrawHistory = [];

            // Hide dashboard
            const dashboardSection = document.getElementById('dashboard-page');
            if (dashboardSection) {
                dashboardSection.style.display = 'none';
            }

            // Show welcome page
            window.showPage('welcome-page');
            alert('You have been logged out successfully.');
        };

        window.copyReferralLink = function copyReferralLink() {
            const referralLink = document.getElementById('referral-link-display')?.href;
            if (referralLink) {
                navigator.clipboard.writeText(referralLink).then(() => {
                    alert('Referral link copied to clipboard!');
                }).catch(err => {
                    console.error('Failed to copy text: ', err);
                });
            }
        };

        // Global state variables
        window.isLoggedIn = false;
        window.currentUser = null;
        window.currentUsername = '';
        window.currentEmail = '';
        window.currentPhone = '';
        window.accountBalance = 0;
        window.welcomeBonusAmount = 0;
        window.investments = [];
        window.depositHistory = [];
        window.withdrawHistory = [];
        window.referralCode = 'DAILYEARNERSUSER123';

        // Helper function to check authentication
        window.isAuthenticated = function() {
            return window.isLoggedIn;
        };

        // --- Global State Variables ---
        let isLoggedIn = false;
        let currentUser = null;
        let currentUsername = '';
        let currentEmail = '';
        let currentPhone = '';
        let accountBalance = 0;
        let welcomeBonusAmount = 0;
        let investments = [];
        let depositHistory = [];
        let withdrawHistory = [];
        let referralCode = 'DAILYEARNERSUSER123';

        // --- Helper function to check if user has received welcome bonus ---
        function hasUserReceivedWelcomeBonus(username) {
            const receivedBonuses = JSON.parse(localStorage.getItem('receivedWelcomeBonuses') || '{}');
            return receivedBonuses[username] === true;
        }

        function markWelcomeBonusReceived(username) {
            const receivedBonuses = JSON.parse(localStorage.getItem('receivedWelcomeBonuses') || '{}');
            receivedBonuses[username] = true;
            localStorage.setItem('receivedWelcomeBonuses', JSON.stringify(receivedBonuses));
        }

        // --- Helper function to save account balance ---
        function saveAccountBalance() {
            if (window.currentUsername) {
                const userData = JSON.parse(localStorage.getItem('userAccountData') || '{}');
                userData[window.currentUsername] = {
                    balance: window.accountBalance,
                    welcomeBonus: window.welcomeBonusAmount,
                    email: window.currentEmail,
                    phone: window.currentPhone
                };
                localStorage.setItem('userAccountData', JSON.stringify(userData));
            }
        }

        // --- Helper function to load account balance ---
        function loadAccountBalance() {
            if (window.currentUsername) {
                const userData = JSON.parse(localStorage.getItem('userAccountData') || '{}');
                const user = userData[window.currentUsername];
                if (user) {
                    window.accountBalance = user.balance || 0;
                    window.welcomeBonusAmount = user.welcomeBonus || 0;
                    window.currentEmail = user.email || '';
                    window.currentPhone = user.phone || '';
                }
            }
        }

        // --- Utility Functions ---

        // Update the global showPage function
        window.showPage = function showPage(pageId) {
            console.log('showPage called with:', pageId);
            // Check if trying to access dashboard without authentication
            if (pageId === 'dashboard-page' && !window.isAuthenticated()) {
                alert('Please login to access the dashboard.');
                window.showPage('login-page');
                return;
            }

            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('active-page');
                section.style.display = 'none'; // Hide all sections first
            });

            const targetSection = document.getElementById(pageId);
            if (targetSection) {
                targetSection.classList.add('active-page');
                targetSection.style.display = 'flex'; // Show target section
            }

            // Special handling for dashboard tabs
            if (pageId === 'dashboard-page') {
                const defaultTab = document.querySelector('.dashboard-nav .nav-item.active');
                if (defaultTab) {
                    window.showDashboardTab(defaultTab.dataset.target);
                } else {
                    // Fallback if no active tab is found (e.g., first load)
                    window.showDashboardTab('my-account-tab');
                }
            }
        };

        // Update the global showDashboardTab function
        window.showDashboardTab = async function showDashboardTab(tabId) {
            console.log('showDashboardTab called with:', tabId);
            // Check authentication before allowing dashboard tab access
            if (!window.isAuthenticated()) {
                alert('Please login to access the dashboard.');
                window.showPage('login-page');
                return;
            }

            // Check admin access for admin tab
            if (tabId === 'admin-tab') {
                try {
                    const { user } = await dailyEarnersAPI.getCurrentUser();
                    if (!user) {
                        alert('Please login to access admin panel.');
                        return;
                    }

                    // Check if user is admin (you can customize this logic)
                    const isAdminUser = user.email === 'kaigwaakram123@gmail.com'; // Your admin email
                    console.log('Admin tab access check:', {
                        userEmail: user.email,
                        isAdminUser: isAdminUser,
                        tabId: tabId
                    });

                    if (!isAdminUser) {
                        alert('Access denied. Admin privileges required.');
                        return;
                    }

                    // Show admin nav item for admins
                    const adminNavItem = document.getElementById('admin-nav-item');
                    if (adminNavItem) {
                        adminNavItem.style.display = 'block';
                    }
                } catch (error) {
                    console.error('Error checking admin status:', error);
                    alert('Error accessing admin panel.');
                    return;
                }
            }

            document.querySelectorAll('.dashboard-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            const targetTab = document.getElementById(tabId);
            if (targetTab) {
                targetTab.classList.add('active');
            }

            document.querySelectorAll('.dashboard-nav .nav-item').forEach(navItem => {
                navItem.classList.remove('active');
            });
            const activeNavItem = document.querySelector(`.dashboard-nav .nav-item[data-target="${tabId}"]`);
            if (activeNavItem) {
                activeNavItem.classList.add('active');
            }

            // Update account balance display if we are on a relevant tab
            if (tabId === 'my-account-tab' || tabId === 'deposit-tab' || tabId === 'withdraw-tab' || tabId === 'investment-packages-tab') {
                updateAccountBalanceDisplay();
            }
            if (tabId === 'my-investments-tab') {
                renderInvestments();
            }
            if (tabId === 'deposit-tab') {
                renderDepositHistory();
            }
            if (tabId === 'withdraw-tab') {
                renderWithdrawHistory();
            }
            if (tabId === 'referrals-tab') {
                const referralLinkDisplay = document.getElementById('referral-link-display');
                const referralCodeDisplay = document.getElementById('referral-code-display');
                if (referralLinkDisplay) {
                    referralLinkDisplay.href = `https://dailyearners.com/${window.currentUsername}`;
                    referralLinkDisplay.textContent = `dailyearners.com/${window.currentUsername}`;
                }
                if (referralCodeDisplay) {
                    referralCodeDisplay.textContent = window.currentUsername.toUpperCase() + '123';
                }
                renderMyReferrals();
            }
            if (tabId === 'admin-tab') {
                // Load admin data
                console.log('Loading admin data for tab:', tabId);
                loadPendingDeposits();
            }
        };

        // Update the global togglePassword function
        window.togglePassword = function togglePassword(id) {
            const input = document.getElementById(id);
            if (input) {
                const icon = input.nextElementSibling?.querySelector('i');
                if (input.type === 'password') {
                    input.type = 'text';
                    if (icon) {
                        icon.classList.remove('fa-eye');
                        icon.classList.add('fa-eye-slash');
                    }
                } else {
                    input.type = 'password';
                    if (icon) {
                        icon.classList.remove('fa-eye-slash');
                        icon.classList.add('fa-eye');
                    }
                }
            }
        };

        function updateAccountBalanceDisplay() {
            const totalBalance = window.accountBalance;
            const welcomeBonusText = window.welcomeBonusAmount > 0 ? ` (Bonus: UGX ${window.welcomeBonusAmount.toLocaleString()})` : '';

            const accountBalanceElement = document.getElementById('account-balance');
            if (accountBalanceElement) {
                accountBalanceElement.textContent = `Current Balance: UGX ${totalBalance.toLocaleString()}${welcomeBonusText}`;
            }

            const displayAccountBalanceElement = document.getElementById('display-account-balance-account');
            if (displayAccountBalanceElement) {
                displayAccountBalanceElement.textContent = `UGX ${totalBalance.toLocaleString()}${welcomeBonusText}`;
            }
        }

        function clearAuthForms() {
            const registrationForm = document.getElementById('registration-form');
            const loginForm = document.getElementById('login-form');
            const forgotPasswordForm = document.getElementById('forgot-password-form');

            if (registrationForm) registrationForm.reset();
            if (loginForm) loginForm.reset();
            if (forgotPasswordForm) forgotPasswordForm.reset();
        }

        // --- User Authentication (Simplified Front-end Logic) ---
        // In a real application, these would interact with a backend API.

        document.getElementById('registration-form').addEventListener('submit', async function(event) {
            event.preventDefault();
            const username = document.getElementById('reg-username')?.value;
            const email = document.getElementById('reg-email')?.value;
            const phone = document.getElementById('reg-phone')?.value;
            const password = document.getElementById('reg-password')?.value;
            const confirmPassword = document.getElementById('reg-confirm-password')?.value;

            if (!username || !email || !phone || !password) {
                alert('Please fill in all fields.');
                return;
            }

            if (password !== confirmPassword) {
                alert('Passwords do not match!');
                return;
            }

            try {
                // Register user with Supabase
                const { data, error } = await dailyEarnersAPI.signUp(email, password, username, phone);

                if (error) {
                    alert(`Registration failed: ${error.message}`);
                    return;
                }

                if (data.user) {
                    alert(`Registration successful for ${username}! Please check your email to confirm your account, then claim your welcome bonus.`);
                    window.currentUsername = username;
                    window.currentEmail = email;
                    window.currentPhone = phone;

                    // Show welcome bonus claim section
                    const welcomeBonusSection = document.getElementById('welcome-bonus-section');
                    if (welcomeBonusSection) {
                        welcomeBonusSection.style.display = 'block';
                    }
                }
            } catch (error) {
                alert(`Registration error: ${error.message}`);
            }

            clearAuthForms();
        });

        // Welcome bonus claim functionality
        document.getElementById('claim-bonus-btn').addEventListener('click', async function() {
            if (!window.currentUser) {
                alert('Please register first to claim your welcome bonus.');
                return;
            }

            try {
                // Claim welcome bonus with Supabase
                const { data, error } = await dailyEarnersAPI.claimWelcomeBonus(window.currentUser.id);

                if (error) {
                    alert(`Failed to claim bonus: ${error.message}`);
                    return;
                }

                // Disable the button immediately to prevent double-clicking
                this.disabled = true;
                this.style.opacity = '0.6';
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Claiming...';

                // Update local balance
                window.welcomeBonusAmount = 4000;
                window.accountBalance += window.welcomeBonusAmount;

                // Hide the bonus section permanently
                const welcomeBonusSection = document.getElementById('welcome-bonus-section');
                if (welcomeBonusSection) {
                    welcomeBonusSection.style.display = 'none';
                }

                // Show success message
                alert('🎉 Welcome bonus claimed successfully! UGX 4,000 has been added to your account.');

                // Redirect to login page
                window.showPage('login-page');
            } catch (error) {
                alert(`Error claiming bonus: ${error.message}`);
            }
        });

        document.getElementById('login-form').addEventListener('submit', async function(event) {
            event.preventDefault();
            const usernameOrEmail = document.getElementById('login-username-email')?.value;
            const password = document.getElementById('login-password')?.value;

            if (!usernameOrEmail || !password) {
                alert('Please enter both username/email and password.');
                return;
            }

            try {
                // Sign in with Supabase
                const { data, error } = await dailyEarnersAPI.signIn(usernameOrEmail, password);

                if (error) {
                    alert(`Login failed: ${error.message}`);
                    return;
                }

                if (data.user) {
                    window.isLoggedIn = true;
                    window.currentUser = data.user;
                    window.currentUsername = data.user.user_metadata?.username || data.user.email;
                    window.currentEmail = data.user.email;

                    // Get user profile and balance
                    const { data: profile } = await dailyEarnersAPI.getUserProfile(data.user.id);
                    const { data: balance } = await dailyEarnersAPI.getUserBalance(data.user.id);

                    if (profile) {
                        window.currentPhone = profile.phone;
                        window.referralCode = profile.referral_code;
                    }

                    if (balance) {
                        window.accountBalance = balance.main_balance + balance.bonus_balance;
                        window.welcomeBonusAmount = balance.bonus_balance;
                    }

                    // Hide welcome bonus display if user hasn't claimed bonus yet
                    const welcomeBonusDisplay = document.getElementById('welcome-bonus-display');
                    if (welcomeBonusDisplay) {
                        if (!balance?.welcome_bonus_claimed) {
                            welcomeBonusDisplay.classList.remove('hidden');
                        } else {
                            welcomeBonusDisplay.classList.add('hidden');
                        }
                    }

                    const welcomeMessage = document.getElementById('welcome-message');
                    const displayUsername = document.getElementById('display-username');
                    const displayEmail = document.getElementById('display-email');
                    const displayPhone = document.getElementById('display-phone');

                    if (welcomeMessage) welcomeMessage.textContent = `Welcome, ${window.currentUsername}!`;
                    if (displayUsername) displayUsername.textContent = window.currentUsername;
                    if (displayEmail) displayEmail.textContent = window.currentEmail;
                    if (displayPhone) displayPhone.textContent = window.currentPhone || 'N/A';

                    updateAccountBalanceDisplay();
                    clearAuthForms();

                    // Check if user is admin and show admin tab
                    const isAdminUser = window.currentEmail === 'kaigwaakram123@gmail.com'; // Your admin email
                    const adminNavItem = document.getElementById('admin-nav-item');
                    if (adminNavItem) {
                        adminNavItem.style.display = isAdminUser ? 'block' : 'none';
                        console.log('Admin check:', {
                            currentEmail: window.currentEmail,
                            isAdminUser: isAdminUser,
                            adminNavItem: adminNavItem
                        });
                    }

                    // Show dashboard after successful login
                    const dashboardSection = document.getElementById('dashboard-page');
                    if (dashboardSection) {
                        dashboardSection.style.display = 'flex';
                    }
                    window.showPage('dashboard-page');
                }
            } catch (error) {
                alert(`Login error: ${error.message}`);
            }
        });

        // Update the global logoutUser function
        window.logoutUser = async function logoutUser() {
            try {
                // Sign out with Supabase
                await dailyEarnersAPI.signOut();

                // Reset all global state
                window.isLoggedIn = false;
                window.currentUser = null;
                window.currentUsername = '';
                window.currentEmail = '';
                window.currentPhone = '';
                window.accountBalance = 0;
                window.welcomeBonusAmount = 0;
                window.investments = [];
                window.depositHistory = [];
                window.withdrawHistory = [];

                const welcomeBonusDisplay = document.getElementById('welcome-bonus-display');
                if (welcomeBonusDisplay) {
                    welcomeBonusDisplay.classList.remove('hidden');
                }

                // Hide dashboard completely on logout
                const dashboardSection = document.getElementById('dashboard-page');
                if (dashboardSection) {
                    dashboardSection.style.display = 'none';
                }

                clearAuthForms();
                window.showPage('welcome-page');
                alert('You have been logged out successfully.');
            } catch (error) {
                alert(`Logout error: ${error.message}`);
            }
        };

        document.getElementById('forgot-password-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const email = document.getElementById('forgot-email').value;
            alert(`Password reset link sent to ${email}. (This is a simulation)`);
            clearAuthForms();
            showPage('login-page');
        });

        // --- Investment Package Logic ---
        let selectedPackage = null;
        const investmentModal = document.getElementById('investment-modal');
        const closeModalBtn = investmentModal?.querySelector('.close-button');
        const investAmountInput = document.getElementById('invest-amount-input');
        const confirmInvestmentBtn = document.getElementById('confirm-investment-btn');
        const investmentModalError = document.getElementById('investment-modal-error');

        document.querySelectorAll('.btn-apply').forEach(button => {
            button.addEventListener('click', function() {
                // Check authentication before allowing investment
                if (!window.isAuthenticated()) {
                    alert('Please login to make investments.');
                    window.showPage('login-page');
                    return;
                }

                selectedPackage = {
                    name: this.dataset.package,
                    min: parseInt(this.dataset.min),
                    max: parseInt(this.dataset.max),
                    earningRate: parseFloat(this.dataset.earning)
                };

                const modalPackageName = document.getElementById('modal-package-name');
                if (modalPackageName) {
                    modalPackageName.textContent = selectedPackage.name;
                }

                if (investAmountInput) investAmountInput.value = '';
                if (investmentModalError) investmentModalError.textContent = '';

                if (investmentModal) {
                    investmentModal.style.display = 'flex';
                }
            });
        });

        if (closeModalBtn) {
            closeModalBtn.addEventListener('click', () => {
                if (investmentModal) {
                    investmentModal.style.display = 'none';
                }
            });
        }

        window.addEventListener('click', (event) => {
            if (event.target === investmentModal) {
                if (investmentModal) {
                    investmentModal.style.display = 'none';
                }
            }
        });

        if (confirmInvestmentBtn) {
            confirmInvestmentBtn.addEventListener('click', () => {
                if (!investAmountInput) return;

                const amount = parseInt(investAmountInput.value);

                if (!selectedPackage || isNaN(amount) || amount < selectedPackage.min || amount > selectedPackage.max) {
                    if (investmentModalError) {
                        investmentModalError.textContent = `Please enter an amount between UGX ${selectedPackage.min.toLocaleString()} and UGX ${selectedPackage.max.toLocaleString()}.`;
                    }
                    return;
                }

                if (amount > window.accountBalance) {
                    if (investmentModalError) {
                        investmentModalError.textContent = 'Insufficient balance. Please deposit funds.';
                    }
                    // Optionally redirect to deposit page
                    setTimeout(() => {
                        if (investmentModal) {
                            investmentModal.style.display = 'none';
                        }
                        window.showDashboardTab('deposit-tab');
                    }, 1500);
                    return;
                }

                // Simulate investment
                window.accountBalance -= amount;
                const startDate = new Date();
                const endDate = new Date();
                endDate.setDate(startDate.getDate() + 21); // 21 days duration

                const newInvestment = {
                    id: Date.now(), // Unique ID for investment
                    planName: selectedPackage.name,
                    investedAmount: amount,
                    dailyEarningRate: selectedPackage.earningRate,
                    startDate: startDate,
                    endDate: endDate,
                    status: 'Active'
                };
                window.investments.push(newInvestment);

                alert(`Successfully invested UGX ${amount.toLocaleString()} in ${selectedPackage.name}!`);
                updateAccountBalanceDisplay();
                if (investmentModal) {
                    investmentModal.style.display = 'none';
                }
                window.showDashboardTab('my-investments-tab');
                renderInvestments(); // Update investments table
            });
        }

        // --- My Investments Tab Rendering and Timer ---
        const investmentsTableBody = document.getElementById('investments-table-body');
        const timers = {}; // To store interval IDs for timers

        function renderInvestments() {
            if (!investmentsTableBody) return;

            investmentsTableBody.innerHTML = ''; // Clear existing rows
            if (window.investments.length === 0) {
                investmentsTableBody.innerHTML = '<tr><td colspan="7">No active investments yet.</td></tr>';
                return;
            }

            // Clear existing timers before rendering to avoid duplicates
            for (const id in timers) {
                clearInterval(timers[id]);
                delete timers[id];
            }

            window.investments.forEach(inv => {
                const row = investmentsTableBody.insertRow();
                row.innerHTML = `
                    <td>${inv.planName}</td>
                    <td>UGX ${inv.investedAmount.toLocaleString()}</td>
                    <td>${(inv.dailyEarningRate * 100).toFixed(0)}%</td>
                    <td>${inv.startDate.toLocaleDateString()}</td>
                    <td>${inv.endDate.toLocaleDateString()}</td>
                    <td id="timer-${inv.id}">Calculating...</td>
                    <td><span class="status ${inv.status.toLowerCase()}">${inv.status}</span></td>
                `;

                // Start timer for active investments
                if (inv.status === 'Active') {
                    timers[inv.id] = setInterval(() => updateTimer(inv), 1000);
                    updateTimer(inv); // Call once immediately
                }
            });
        }

        function updateTimer(investment) {
            const now = new Date().getTime();
            const endTime = investment.endDate.getTime();
            const distance = endTime - now;
            const timerElement = document.getElementById(`timer-${investment.id}`);

            if (!timerElement) return;

            if (distance < 0) {
                clearInterval(timers[investment.id]);
                timerElement.textContent = 'Completed!';
                investment.status = 'Completed'; // Update status
                // In a real app: trigger profit distribution, update balance etc.
                // For simulation, just add the full profit at the end of 21 days (example calculation)
                const totalProfit = investment.investedAmount * (investment.dailyEarningRate * 21); // Simple flat calculation for 21 days
                window.accountBalance += totalProfit;
                updateAccountBalanceDisplay();
                alert(`Investment in ${investment.planName} completed! Total profit: UGX ${totalProfit.toLocaleString()}`);
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            timerElement.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
        }

        // --- Deposit Logic ---
        document.querySelectorAll('.deposit-form').forEach(form => {
            form.addEventListener('submit', function(event) {
                // Check authentication before allowing deposit
                if (!window.isAuthenticated()) {
                    alert('Please login to make deposits.');
                    window.showPage('login-page');
                    return;
                }

                event.preventDefault();
                const method = this.dataset.method;
                let amount, transactionId;

                if (method === 'Airtel') {
                    amount = parseInt(document.getElementById('airtel-amount')?.value);
                    transactionId = document.getElementById('airtel-transaction-id')?.value;
                } else if (method === 'MTN') {
                    amount = parseInt(document.getElementById('mtn-amount')?.value);
                    transactionId = document.getElementById('mtn-transaction-id')?.value;
                }

                const minDeposit = 10000;
                const maxDeposit = 3000000;

                if (!amount || !transactionId || isNaN(amount) || amount < minDeposit || amount > maxDeposit) {
                    alert(`Deposit amount must be between UGX ${minDeposit.toLocaleString()} and UGX ${maxDeposit.toLocaleString()}. Please enter a valid Transaction ID.`);
                    return;
                }

                const newDeposit = {
                    date: new Date().toLocaleDateString(),
                    amount: amount,
                    method: method,
                    status: 'Pending Admin Approval' // All deposits require admin approval
                };
                window.depositHistory.push(newDeposit);
                // In a real app, send this to backend for admin approval
                alert(`Deposit of UGX ${amount.toLocaleString()} via ${method} is pending admin approval.`);
                renderDepositHistory();
                this.reset(); // Clear form
            });
        });

        function renderDepositHistory() {
            const depositHistoryBody = document.getElementById('deposit-history-body');
            if (!depositHistoryBody) return;

            depositHistoryBody.innerHTML = ''; // Clear existing rows
            if (window.depositHistory.length === 0) {
                depositHistoryBody.innerHTML = '<tr><td colspan="4">No deposit history.</td></tr>';
                return;
            }
            window.depositHistory.forEach(dep => {
                const row = depositHistoryBody.insertRow();
                row.innerHTML = `
                    <td>${dep.date}</td>
                    <td>UGX ${dep.amount.toLocaleString()}</td>
                    <td>${dep.method}</td>
                    <td><span class="status ${dep.status.toLowerCase().replace(/ /g, '-')}">${dep.status}</span></td>
                `;
            });
        }

        // --- Withdraw Logic ---
        document.getElementById('withdrawal-form').addEventListener('submit', function(event) {
            // Check authentication before allowing withdrawal
            if (!window.isAuthenticated()) {
                alert('Please login to make withdrawals.');
                window.showPage('login-page');
                return;
            }

            event.preventDefault();
            const amount = parseInt(document.getElementById('withdraw-amount')?.value);
            const method = document.getElementById('withdraw-method')?.value;
            const mobileNumber = document.getElementById('withdraw-number')?.value;
            const minWithdraw = 7000;

            if (!amount || !method || !mobileNumber || isNaN(amount) || amount < minWithdraw) {
                alert(`Withdrawal amount must be at least UGX ${minWithdraw.toLocaleString()}. Please select a method and enter your mobile money number.`);
                return;
            }
            if (amount > window.accountBalance) {
                alert('Insufficient account balance for this withdrawal.');
                return;
            }

            // Handle withdrawal with welcome bonus logic
            let remainingAmount = amount;
            let usedWelcomeBonus = 0;

            // First, use welcome bonus if available
            if (window.welcomeBonusAmount > 0) {
                if (remainingAmount <= window.welcomeBonusAmount) {
                    // Withdrawal is fully covered by welcome bonus
                    usedWelcomeBonus = remainingAmount;
                    window.welcomeBonusAmount -= remainingAmount;
                    remainingAmount = 0;
                } else {
                    // Partial use of welcome bonus
                    usedWelcomeBonus = window.welcomeBonusAmount;
                    remainingAmount -= window.welcomeBonusAmount;
                    window.welcomeBonusAmount = 0;
                }
            }

            // Then deduct from main balance if needed
            if (remainingAmount > 0) {
                window.accountBalance -= remainingAmount;
            }

            // Save the updated balance
            saveAccountBalance();
            updateAccountBalanceDisplay();

            const newWithdrawal = {
                date: new Date().toLocaleDateString(),
                amount: amount,
                method: method,
                mobileNumber: mobileNumber,
                usedWelcomeBonus: usedWelcomeBonus,
                status: 'Pending Admin Approval' // All withdrawals require admin approval
            };
            window.withdrawHistory.push(newWithdrawal);
            // In a real app, send this to backend for admin approval
            alert(`Withdrawal of UGX ${amount.toLocaleString()} is pending admin approval.${usedWelcomeBonus > 0 ? ` (UGX ${usedWelcomeBonus.toLocaleString()} from welcome bonus)` : ''}`);
            renderWithdrawHistory();
            this.reset(); // Clear form
        });

        function renderWithdrawHistory() {
            const withdrawHistoryBody = document.getElementById('withdraw-history-body');
            if (!withdrawHistoryBody) return;

            withdrawHistoryBody.innerHTML = ''; // Clear existing rows
            if (window.withdrawHistory.length === 0) {
                withdrawHistoryBody.innerHTML = '<tr><td colspan="4">No withdrawal history.</td></tr>';
                return;
            }
            window.withdrawHistory.forEach(wd => {
                const row = withdrawHistoryBody.insertRow();
                row.innerHTML = `
                    <td>${wd.date}</td>
                    <td>UGX ${wd.amount.toLocaleString()}</td>
                    <td>${wd.method}</td>
                    <td><span class="status ${wd.status.toLowerCase().replace(/ /g, '-')}">${wd.status}</span></td>
                `;
            });
        }

        // --- Referral Logic ---
        // Update the global copyReferralLink function
        window.copyReferralLink = function copyReferralLink() {
            const referralLink = document.getElementById('referral-link-display')?.href;
            if (referralLink) {
                navigator.clipboard.writeText(referralLink).then(() => {
                    alert('Referral link copied to clipboard!');
                }).catch(err => {
                    console.error('Failed to copy text: ', err);
                });
            }
        };

        // Dummy referral data for front-end display
        let myReferrals = [
            { user: 'JaneDoe', dateJoined: '2025-05-01', totalInvestment: 50000, earnedBonus: 5000 },
            { user: 'BobSmith', dateJoined: '2025-05-15', totalInvestment: 100000, earnedBonus: 10000 }
        ];

        function renderMyReferrals() {
            const myReferralsTableBody = document.getElementById('my-referrals-table-body');
            if (!myReferralsTableBody) return;

            myReferralsTableBody.innerHTML = ''; // Clear existing rows
            if (myReferrals.length === 0) {
                myReferralsTableBody.innerHTML = '<tr><td colspan="4">No referrals yet.</td></tr>';
                return;
            }
            myReferrals.forEach(ref => {
                const row = myReferralsTableBody.insertRow();
                row.innerHTML = `
                    <td>${ref.user}</td>
                    <td>${ref.dateJoined}</td>
                    <td>UGX ${ref.totalInvestment.toLocaleString()}</td>
                    <td>UGX ${ref.earnedBonus.toLocaleString()}</td>
                `;
            });
        }


        // --- Initial Page Load ---
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM Content Loaded - Initializing DailyEarners platform...');

            // Check if user is trying to access dashboard directly via URL hash or other means
            const currentPage = window.location.hash ? window.location.hash.substring(1) : 'welcome-page';
            if (currentPage === 'dashboard-page' && !window.isAuthenticated()) {
                window.showPage('welcome-page'); // Redirect to welcome page if not authenticated
            } else {
                window.showPage(currentPage);
            }

            // Attach event listeners for dashboard navigation
            document.querySelectorAll('.dashboard-nav .nav-item').forEach(navItem => {
                navItem.addEventListener('click', function(event) {
                    event.preventDefault();
                    window.showDashboardTab(this.dataset.target);
                });
            });

            // Initial render for dashboard if user is authenticated
            if (window.isLoggedIn) {
                updateAccountBalanceDisplay();
                renderInvestments();
                renderDepositHistory();
                renderWithdrawHistory();
                renderMyReferrals();

                const welcomeMessage = document.getElementById('welcome-message');
                const displayUsername = document.getElementById('display-username');
                const displayEmail = document.getElementById('display-email');
                const displayPhone = document.getElementById('display-phone');

                if (welcomeMessage) welcomeMessage.textContent = `Welcome, ${window.currentUsername}!`;
                if (displayUsername) displayUsername.textContent = window.currentUsername;
                if (displayEmail) displayEmail.textContent = window.currentEmail;
                if (displayPhone) displayPhone.textContent = window.currentPhone;
            }

            console.log('DailyEarners platform initialized successfully!');
        });

        // Example of how deposit approval would update account balance (simulated)
        // In a real system, this would be triggered by the admin backend
        function simulateDepositApproval(amount) {
            window.accountBalance += amount;
            updateAccountBalanceDisplay();
            alert(`Deposit of UGX ${amount.toLocaleString()} has been approved!`);
            // Update deposit history status to 'Approved'
            const depositIndex = window.depositHistory.findIndex(dep => dep.amount === amount && dep.status === 'Pending Admin Approval');
            if (depositIndex !== -1) {
                window.depositHistory[depositIndex].status = 'Approved';
                renderDepositHistory();
            }
        }

        // simulateDepositApproval(10000); // Call this manually for testing after making a deposit

        // --- Hero Image Slideshow ---
        const stockMarketImages = [
            'https://www.vecteezy.com/vector-art/24813386-stock-market-growth-in-futuristic-technology-style-successful-financial-graphic-on-blue-background-business-growth-illustration-with-the-bar-chart-static-and-up-arrow',
            'https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400',
            'https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400',
            'https://images.unsplash.com/photo-1590479773265-7464e5d48118?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400',
            'https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400',
            'https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400'
        ];

        let currentImageIndex = 0;
        const heroImage = document.getElementById('hero-image');

        window.changeHeroImage = function changeHeroImage() {
            if (!heroImage) return;

            currentImageIndex = (currentImageIndex + 1) % stockMarketImages.length;
            heroImage.style.opacity = '0.5';
            setTimeout(() => {
                heroImage.src = stockMarketImages[currentImageIndex];
                heroImage.style.opacity = '1';
            }, 300);
        };

        // Start the slideshow - change image every 3 seconds
        setInterval(window.changeHeroImage, 3000);

        // Add smooth transition effect to the hero image
        if (heroImage) {
            heroImage.style.transition = 'opacity 0.3s ease-in-out';
        }

        // --- Background Image Slideshow ---
        const backgroundImages = [
            'https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080',
            'https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080',
            'https://images.unsplash.com/photo-1590479773265-7464e5d48118?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080',
            'https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080',
            'https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080',
            'https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080',
            'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080',
            'https://images.unsplash.com/photo-1611224923853-80b023f02d71?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080',
            'https://images.unsplash.com/photo-1579952363873-27d3bfad9c0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080',
            'https://images.unsplash.com/photo-1559526324-4b87b5e36e44?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080'
        ];

        let currentBackgroundIndex = 0;

        window.changeBackgroundImage = function changeBackgroundImage() {
            currentBackgroundIndex = (currentBackgroundIndex + 1) % backgroundImages.length;
            const imageUrl = backgroundImages[currentBackgroundIndex];
            console.log('Changing background to:', imageUrl);
            document.body.style.backgroundImage = `url('${imageUrl}')`;
        };

        window.initializeBackgroundSlideshow = function initializeBackgroundSlideshow() {
            console.log('Initializing background slideshow...');
            // Set initial background image
            document.body.style.backgroundImage = `url('${backgroundImages[0]}')`;
            console.log('Initial background set to:', backgroundImages[0]);

            // Start the background slideshow - change image every 10 seconds
            setInterval(window.changeBackgroundImage, 10000);
            console.log('Background slideshow started - will change every 10 seconds');
        };

        // Initialize when DOM is loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', window.initializeBackgroundSlideshow);
        } else {
            window.initializeBackgroundSlideshow();
        }

        // ========================================
        // TEST FUNCTIONS FOR SUPABASE INTEGRATION
        // ========================================

        // Make test functions globally available
        window.testSupabaseIntegration = {
            // Test user registration
            async testRegistration() {
                console.log('🧪 Testing user registration...');
                try {
                    const result = await dailyEarnersAPI.signUp(
                        'test@example.com',
                        'password123',
                        'testuser',
                        '+256701234567'
                    );

                    if (result.error) {
                        console.error('❌ Registration failed:', result.error);
                        alert(`Registration failed: ${result.error.message}`);
                    } else {
                        console.log('✅ Registration successful:', result.data);
                        alert('Registration successful! Check console for details.');
                    }
                } catch (error) {
                    console.error('❌ Registration error:', error);
                    alert(`Registration error: ${error.message}`);
                }
            },

            // Test user login
            async testLogin() {
                console.log('🧪 Testing user login...');
                try {
                    const result = await dailyEarnersAPI.signIn(
                        'test@example.com',
                        'password123'
                    );

                    if (result.error) {
                        console.error('❌ Login failed:', result.error);
                        alert(`Login failed: ${result.error.message}`);
                    } else {
                        console.log('✅ Login successful:', result.data);
                        alert('Login successful! Check console for details.');
                    }
                } catch (error) {
                    console.error('❌ Login error:', error);
                    alert(`Login error: ${error.message}`);
                }
            },

            // Test getting investment packages
            async testGetPackages() {
                console.log('🧪 Testing get investment packages...');
                try {
                    const result = await dailyEarnersAPI.getInvestmentPackages();

                    if (result.error) {
                        console.error('❌ Get packages failed:', result.error);
                        alert(`Get packages failed: ${result.error.message}`);
                    } else {
                        console.log('✅ Investment packages:', result.data);
                        alert(`Found ${result.data.length} investment packages. Check console for details.`);
                    }
                } catch (error) {
                    console.error('❌ Get packages error:', error);
                    alert(`Get packages error: ${error.message}`);
                }
            },

            // Test creating investment
            async testCreateInvestment(packageId, amount) {
                console.log('🧪 Testing create investment...');
                try {
                    const currentUser = await dailyEarnersAPI.getCurrentUser();
                    if (!currentUser.user) {
                        alert('Please login first to test investment creation.');
                        return;
                    }

                    const result = await dailyEarnersAPI.createInvestment(
                        currentUser.user.id,
                        packageId,
                        amount
                    );

                    if (result.error) {
                        console.error('❌ Create investment failed:', result.error);
                        alert(`Create investment failed: ${result.error.message}`);
                    } else {
                        console.log('✅ Investment created:', result.data);
                        alert('Investment created successfully! Check console for details.');
                    }
                } catch (error) {
                    console.error('❌ Create investment error:', error);
                    alert(`Create investment error: ${error.message}`);
                }
            },

            // Test getting user balance
            async testGetBalance() {
                console.log('🧪 Testing get user balance...');
                try {
                    const currentUser = await dailyEarnersAPI.getCurrentUser();
                    if (!currentUser.user) {
                        alert('Please login first to test balance retrieval.');
                        return;
                    }

                    const result = await dailyEarnersAPI.getUserBalance(currentUser.user.id);

                    if (result.error) {
                        console.error('❌ Get balance failed:', result.error);
                        alert(`Get balance failed: ${result.error.message}`);
                    } else {
                        console.log('✅ User balance:', result.data);
                        alert(`Balance: UGX ${result.data.main_balance + result.data.bonus_balance}. Check console for details.`);
                    }
                } catch (error) {
                    console.error('❌ Get balance error:', error);
                    alert(`Get balance error: ${error.message}`);
                }
            },

            // Test claiming welcome bonus
            async testClaimBonus() {
                console.log('🧪 Testing claim welcome bonus...');
                try {
                    const currentUser = await dailyEarnersAPI.getCurrentUser();
                    if (!currentUser.user) {
                        alert('Please login first to test bonus claiming.');
                        return;
                    }

                    const result = await dailyEarnersAPI.claimWelcomeBonus(currentUser.user.id);

                    if (result.error) {
                        console.error('❌ Claim bonus failed:', result.error);
                        alert(`Claim bonus failed: ${result.error.message}`);
                    } else {
                        console.log('✅ Bonus claimed:', result.data);
                        alert('Welcome bonus claimed successfully! Check console for details.');
                    }
                } catch (error) {
                    console.error('❌ Claim bonus error:', error);
                    alert(`Claim bonus error: ${error.message}`);
                }
            },

            // Test deposit creation
            async testCreateDeposit(amount, method) {
                console.log('🧪 Testing create deposit...');
                try {
                    const currentUser = await dailyEarnersAPI.getCurrentUser();
                    if (!currentUser.user) {
                        alert('Please login first to test deposit creation.');
                        return;
                    }

                    const result = await dailyEarnersAPI.createDeposit(
                        currentUser.user.id,
                        amount,
                        method,
                        'TEST-' + Date.now()
                    );

                    if (result.error) {
                        console.error('❌ Create deposit failed:', result.error);
                        alert(`Create deposit failed: ${result.error.message}`);
                    } else {
                        console.log('✅ Deposit created:', result.data);
                        alert('Deposit created successfully! Check console for details.');
                    }
                } catch (error) {
                    console.error('❌ Create deposit error:', error);
                    alert(`Create deposit error: ${error.message}`);
                }
            },

            // Test getting user transactions
            async testGetTransactions(type = null) {
                console.log('🧪 Testing get user transactions...');
                try {
                    const currentUser = await dailyEarnersAPI.getCurrentUser();
                    if (!currentUser.user) {
                        alert('Please login first to test transaction retrieval.');
                        return;
                    }

                    const result = await dailyEarnersAPI.getUserTransactions(currentUser.user.id, type);

                    if (result.error) {
                        console.error('❌ Get transactions failed:', result.error);
                        alert(`Get transactions failed: ${result.error.message}`);
                    } else {
                        console.log('✅ User transactions:', result.data);
                        alert(`Found ${result.data.length} transactions. Check console for details.`);
                    }
                } catch (error) {
                    console.error('❌ Get transactions error:', error);
                    alert(`Get transactions error: ${error.message}`);
                }
            },

            // Helper function to run all tests
            async runAllTests() {
                console.log('🚀 Running all Supabase integration tests...');

                await this.testGetPackages();
                await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1 second

                await this.testRegistration();
                await new Promise(resolve => setTimeout(resolve, 2000)); // Wait 2 seconds

                await this.testLogin();
                await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1 second

                await this.testGetBalance();
                await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1 second

                await this.testClaimBonus();
                await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1 second

                await this.testCreateDeposit(50000, 'airtel');
                await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1 second

                await this.testGetTransactions();
                await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1 second

                console.log('✅ All tests completed!');
                alert('All tests completed! Check console for detailed results.');
            }
        };

        // Add test button to the page for easy access
        function addTestButton() {
            const testButton = document.createElement('button');
            testButton.innerHTML = '🧪 Test Supabase';
            testButton.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 10000;
                background: linear-gradient(45deg, #007bff, #0056b3);
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 25px;
                font-weight: bold;
                cursor: pointer;
                box-shadow: 0 4px 15px rgba(0, 123, 255, 0.4);
                transition: all 0.3s ease;
            `;

            testButton.onmouseover = () => {
                testButton.style.transform = 'translateY(-2px)';
                testButton.style.boxShadow = '0 6px 20px rgba(0, 123, 255, 0.6)';
            };

            testButton.onmouseout = () => {
                testButton.style.transform = 'translateY(0)';
                testButton.style.boxShadow = '0 4px 15px rgba(0, 123, 255, 0.4)';
            };

            testButton.onclick = () => {
                const testOptions = `
🧪 Supabase Integration Tests

Choose a test to run:
1. Test Registration
2. Test Login
3. Test Get Packages
4. Test Get Balance
5. Test Claim Bonus
6. Test Create Deposit
7. Test Get Transactions
8. Run All Tests

Or run in browser console:
testSupabaseIntegration.testRegistration()
testSupabaseIntegration.runAllTests()
                `;
                alert(testOptions);
            };

            document.body.appendChild(testButton);
        }

        // Add test button when page loads
        addTestButton();


        async function loadPendingDeposits() {
            try {
                const tbody = document.getElementById('pending-deposits-body');
                tbody.innerHTML = '<tr><td colspan="6">Loading pending deposits...</td></tr>';

                // Check if user is authenticated first
                const { user } = await dailyEarnersAPI.getCurrentUser();
                if (!user) {
                    tbody.innerHTML = '<tr><td colspan="6">Please log in to view deposits</td></tr>';
                    return;
                }

                // Fetch pending deposits from Supabase
                const { data: deposits, error } = await dailyEarnersAPI.getPendingDeposits();

                if (error) {
                    console.error('Supabase error:', error);
                    if (error.message.includes('relation') || error.message.includes('does not exist')) {
                        tbody.innerHTML = '<tr><td colspan="6">Database tables not created yet. Please run the SQL schema in Supabase first.</td></tr>';
                    } else {
                        tbody.innerHTML = '<tr><td colspan="6">Error loading deposits: ' + error.message + '</td></tr>';
                    }
                    return;
                }

                if (!deposits || deposits.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="6">No pending deposits</td></tr>';
                    return;
                }

                tbody.innerHTML = deposits.map(deposit => `
                    <tr>
                        <td>${deposit.users?.email || 'N/A'}</td>
                        <td>UGX ${deposit.amount.toLocaleString()}</td>
                        <td>${deposit.method}</td>
                        <td>${deposit.transaction_id}</td>
                        <td>${new Date(deposit.created_at).toLocaleDateString()}</td>
                        <td>
                            <button onclick="approveDeposit('${deposit.id}')" class="btn btn-success">Approve</button>
                            <button onclick="rejectDeposit('${deposit.id}')" class="btn btn-danger">Reject</button>
                        </td>
                    </tr>
                `).join('');
            } catch (error) {
                console.error('Error loading deposits:', error);
                const tbody = document.getElementById('pending-deposits-body');
                tbody.innerHTML = '<tr><td colspan="6">Error: ' + error.message + '</td></tr>';
            }
        }

        async function loadPendingWithdrawals() {
            try {
                const tbody = document.getElementById('pending-withdrawals-body');
                tbody.innerHTML = '<tr><td colspan="6">Loading pending withdrawals...</td></tr>';

                // Check if user is authenticated first
                const { user } = await dailyEarnersAPI.getCurrentUser();
                if (!user) {
                    tbody.innerHTML = '<tr><td colspan="6">Please log in to view withdrawals</td></tr>';
                    return;
                }

                // Fetch pending withdrawals from Supabase
                const { data: withdrawals, error } = await dailyEarnersAPI.getPendingWithdrawals();

                if (error) {
                    console.error('Supabase error:', error);
                    if (error.message.includes('relation') || error.message.includes('does not exist')) {
                        tbody.innerHTML = '<tr><td colspan="6">Database tables not created yet. Please run the SQL schema in Supabase first.</td></tr>';
                    } else {
                        tbody.innerHTML = '<tr><td colspan="6">Error loading withdrawals: ' + error.message + '</td></tr>';
                    }
                    return;
                }

                if (!withdrawals || withdrawals.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="6">No pending withdrawals</td></tr>';
                    return;
                }

                tbody.innerHTML = withdrawals.map(withdrawal => `
                    <tr>
                        <td>${withdrawal.users?.email || 'N/A'}</td>
                        <td>UGX ${withdrawal.amount.toLocaleString()}</td>
                        <td>${withdrawal.method}</td>
                        <td>${withdrawal.description || 'N/A'}</td>
                        <td>${new Date(withdrawal.created_at).toLocaleDateString()}</td>
                        <td>
                            <button onclick="approveWithdrawal('${withdrawal.id}')" class="btn btn-success">Approve</button>
                            <button onclick="rejectWithdrawal('${withdrawal.id}')" class="btn btn-danger">Reject</button>
                        </td>
                    </tr>
                `).join('');
            } catch (error) {
                console.error('Error loading withdrawals:', error);
                const tbody = document.getElementById('pending-withdrawals-body');
                tbody.innerHTML = '<tr><td colspan="6">Error: ' + error.message + '</td></tr>';
            }
        }

        async function loadAllUsers() {
            try {
                const tbody = document.getElementById('all-users-body');
                tbody.innerHTML = '<tr><td colspan="5">Loading users...</td></tr>';

                // Check if user is authenticated first
                const { user } = await dailyEarnersAPI.getCurrentUser();
                if (!user) {
                    tbody.innerHTML = '<tr><td colspan="5">Please log in to view users</td></tr>';
                    return;
                }

                // Fetch all users from Supabase
                const { data: users, error } = await dailyEarnersAPI.getAllUsers();

                if (error) {
                    console.error('Supabase error:', error);
                    if (error.message.includes('relation') || error.message.includes('does not exist')) {
                        tbody.innerHTML = '<tr><td colspan="5">Database tables not created yet. Please run the SQL schema in Supabase first.</td></tr>';
                    } else {
                        tbody.innerHTML = '<tr><td colspan="5">Error loading users: ' + error.message + '</td></tr>';
                    }
                    return;
                }

                if (!users || users.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="5">No users found</td></tr>';
                    return;
                }

                tbody.innerHTML = users.map(user => `
                    <tr>
                        <td>${user.username || 'N/A'}</td>
                        <td>${user.email}</td>
                        <td>${user.phone}</td>
                        <td>UGX ${(user.user_balances?.main_balance || 0).toLocaleString()}</td>
                        <td>${new Date(user.created_at).toLocaleDateString()}</td>
                    </tr>
                `).join('');
            } catch (error) {
                console.error('Error loading users:', error);
                const tbody = document.getElementById('all-users-body');
                tbody.innerHTML = '<tr><td colspan="5">Error: ' + error.message + '</td></tr>';
            }
        }

        window.approveDeposit = async function approveDeposit(depositId) {
            try {
                console.log('Approving deposit:', depositId);

                // Call Supabase function to approve deposit
                const { data, error } = await dailyEarnersAPI.approveDeposit(depositId);

                if (error) {
                    alert('Error approving deposit: ' + error.message);
                    return;
                }

                alert('Deposit approved successfully!');
                loadPendingDeposits(); // Refresh the list
            } catch (error) {
                alert('Error approving deposit: ' + error.message);
            }
        };

        window.rejectDeposit = async function rejectDeposit(depositId) {
            try {
                console.log('Rejecting deposit:', depositId);

                // Update transaction status to cancelled
                const { error } = await dailyEarnersAPI.updateTransactionStatus(depositId, 'cancelled');

                if (error) {
                    alert('Error rejecting deposit: ' + error.message);
                    return;
                }

                alert('Deposit rejected!');
                loadPendingDeposits(); // Refresh the list
            } catch (error) {
                alert('Error rejecting deposit: ' + error.message);
            }
        };

        window.approveWithdrawal = async function approveWithdrawal(withdrawalId) {
            try {
                console.log('Approving withdrawal:', withdrawalId);

                // Call Supabase function to approve withdrawal
                const { data, error } = await dailyEarnersAPI.approveWithdrawal(withdrawalId);

                if (error) {
                    alert('Error approving withdrawal: ' + error.message);
                    return;
                }

                alert('Withdrawal approved successfully!');
                loadPendingWithdrawals(); // Refresh the list
            } catch (error) {
                alert('Error approving withdrawal: ' + error.message);
            }
        };

        window.rejectWithdrawal = async function rejectWithdrawal(withdrawalId) {
            try {
                console.log('Rejecting withdrawal:', withdrawalId);

                // Update transaction status to cancelled
                const { error } = await dailyEarnersAPI.updateTransactionStatus(withdrawalId, 'cancelled');

                if (error) {
                    alert('Error rejecting withdrawal: ' + error.message);
                    return;
                }

                alert('Withdrawal rejected!');
                loadPendingWithdrawals(); // Refresh the list
            } catch (error) {
                alert('Error rejecting withdrawal: ' + error.message);
            }
        };

        console.log(`
🧪 Supabase Integration Test Functions Available:

Individual Tests:
- testSupabaseIntegration.testRegistration()
- testSupabaseIntegration.testLogin()
- testSupabaseIntegration.testGetPackages()
- testSupabaseIntegration.testGetBalance()
- testSupabaseIntegration.testClaimBonus()
- testSupabaseIntegration.testCreateDeposit(amount, method)
- testSupabaseIntegration.testGetTransactions(type)

Admin Functions:
- showAdminTab('pending-deposits')
- showAdminTab('pending-withdrawals')
- showAdminTab('all-users')

Run All Tests:
- testSupabaseIntegration.runAllTests()

Example Usage:
testSupabaseIntegration.testCreateInvestment('basic', 50000)
testSupabaseIntegration.testCreateDeposit(100000, 'mtn')
        `);
    </script>
</body>
</html>
