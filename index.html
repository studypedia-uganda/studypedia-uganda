<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studypedia - Your Medical Learning Hub</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Studypedia - Your comprehensive medical learning hub for pharmacy, clinical medicine, and medical laboratory science courses with AI-powered assistance.">
    <meta name="keywords" content="medical education, pharmacy, clinical medicine, medical laboratory science, study notes, medical learning">
    <meta name="author" content="Studypedia">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Studypedia - Your Medical Learning Hub">
    <meta property="og:description" content="Comprehensive medical learning platform with AI-powered assistance">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://studypedia.com">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“š</text></svg>">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans:wght@400;600&display=swap" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    
    <style>
        /* Basic Reset and Box Sizing */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --accent-color: #28a745;
            --dark-color: #343a40;
            --light-color: #f8f9fa;
            --white-color: #ffffff;
            --heading-font: 'Montserrat', sans-serif;
            --body-font: 'Open Sans', sans-serif;
            --transition: all 0.3s ease;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --text-color: #333;
            --bg-color: #ffffff;
            --card-bg: #ffffff;
        }

        /* Dark Mode Variables */
        [data-theme="dark"] {
            --primary-color: #4dabf7;
            --secondary-color: #868e96;
            --accent-color: #51cf66;
            --dark-color: #212529;
            --light-color: #2c2c2c;
            --white-color: #1a1a1a;
            --text-color: #e9ecef;
            --bg-color: #121212;
            --card-bg: #1e1e1e;
        }

        /* Dark Mode Toggle */
        .theme-toggle {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 1001;
            background: var(--primary-color);
            color: var(--white-color);
            border: none;
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            transition: var(--transition);
            box-shadow: var(--box-shadow);
        }

        .theme-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        body {
            font-family: var(--body-font);
            line-height: 1.7;
            color: var(--text-color);
            background-color: var(--bg-color);
            background-image: url('https://images.unsplash.com/photo-1596541223130-af4542459e21?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwzNTY3NTV8MHwxfHNlYXJjaHw3fHxoZWFsdGh8ZW58MHx8fHwxNjU4ODUxOTc0&ixlib=rb-1.2.1&q=80&w=1920');
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            scroll-behavior: smooth;
            transition: var(--transition);
        }
        
        /* Ensure all main content is on a semi-transparent background for readability */
        header, main, footer, section {
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        [data-theme="dark"] header,
        [data-theme="dark"] main,
        [data-theme="dark"] footer,
        [data-theme="dark"] section {
            background-color: rgba(30, 30, 30, 0.95);
        }

        /* Loading Spinner */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--white-color);
            animation: spin 1s ease-in-out infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Improved Button Styles */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: var(--primary-color);
            color: var(--white-color);
            padding: 0.8rem 1.5rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
            margin-top: 1rem;
            cursor: pointer;
            border: none;
            text-decoration: none;
            font-weight: 500;
            box-shadow: var(--box-shadow);
        }

        .btn:hover {
            background: #0056b3;
            color: var(--white-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--heading-font);
            margin-bottom: 0.8rem;
            color: var(--dark-color);
        }

        h1 { font-size: 2.8rem; }
        h2 { font-size: 2.2rem; }
        h3 { font-size: 1.8rem; }
        p { margin-bottom: 1rem; }

        a {
            color: var(--primary-color);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        a:hover {
            color: #0056b3;
        }

        /* Utility Classes */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .text-center {
            text-align: center;
        }

        .btn {
            display: inline-block;
            background: var(--primary-color);
            color: var(--white-color);
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            transition: background 0.3s ease;
            margin-top: 1rem;
            cursor: pointer;
            border: none;
        }

        .btn:hover {
            background: #0056b3;
            color: var(--white-color);
        }
        
        .btn-nav {
            background: var(--accent-color);
            padding: 0.5rem 1rem;
            border-radius: 5px;
            margin-top: 0;
            transition: background 0.3s ease;
        }

        .btn-nav:hover {
            background: #218838;
        }

        /* Header & Navigation */
        header {
            background: var(--dark-color);
            color: var(--white-color);
            padding: 1rem 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        header h1 {
            color: var(--white-color);
            margin-bottom: 0;
            font-size: 1.8rem;
        }

        nav ul {
            list-style: none;
            display: flex;
            align-items: center;
        }

        nav ul li {
            margin-left: 20px;
            position: relative;
        }

        nav a {
            color: var(--white-color);
            text-decoration: none;
            padding: 0.5rem 0;
            position: relative;
            display: block;
        }

        nav a::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary-color);
            transition: width 0.3s ease-in-out;
        }

        nav a:hover::after,
        nav a.active::after {
            width: 100%;
        }

        /* Dropdown Navigation Styles */
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: var(--dark-color);
            min-width: 250px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            top: 100%;
            left: 0;
            padding: 10px 0;
            border-radius: 0 0 5px 5px;
        }
        
        .dropdown-content a {
            color: var(--white-color);
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            text-align: left;
            border-bottom: 1px solid #444;
        }

        .dropdown-content a:hover {
            background-color: #555;
        }
        
        .dropdown:hover .dropdown-content {
            display: block;
        }
        
        /* AdSense Placeholder */
        .adsense-ad {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 150px;
            background-color: #e9ecef;
            border: 1px dashed var(--secondary-color);
            color: var(--secondary-color);
            font-size: 1.2rem;
            margin: 2rem auto;
            max-width: 728px;
            text-align: center;
        }

        /* Section Styling for the new tabs */
        .course-section {
            padding-top: 5rem;
        }
        
        /* Tab System Styling (New) */
        .tab-nav {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 2rem;
            border-bottom: 2px solid #ddd;
        }

        .tab-button {
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 15px 25px;
            font-size: 1rem;
            font-weight: 600;
            color: var(--dark-color);
            transition: background 0.3s ease;
            position: relative;
            outline: none;
        }

        .tab-button:hover, .tab-button.active {
            color: var(--primary-color);
        }

        .tab-button::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary-color);
            transition: width 0.3s ease;
        }

        .tab-button.active::after {
            width: 100%;
        }

        .tab-content {
            display: none;
            padding: 2rem;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            max-height: 500px;
            overflow-y: auto;
            transition: var(--transition);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        [data-theme="dark"] .tab-content {
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Nested Tab Styling */
        .nested-tab-container {
            margin-top: 2rem;
        }
        
        .nested-tab-nav {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .nested-tab-nav .tab-button {
            padding: 10px 15px;
            font-size: 0.9rem;
        }
        
        .sub-content {
            display: none;
            padding: 1.5rem;
            background-color: var(--light-color);
            border-radius: var(--border-radius);
            box-shadow: inset 0 0 5px rgba(0,0,0,0.05);
            transition: var(--transition);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        [data-theme="dark"] .sub-content {
            background-color: #2a2a2a;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .sub-content.active {
            display: block;
            animation: slideIn 0.3s ease-in-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-10px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* Document Container Styles */
        .documents-container {
            margin-top: 1rem;
            padding: 1rem;
            background-color: var(--light-color);
            border-radius: var(--border-radius);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] .documents-container {
            background-color: #2a2a2a;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .document-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem;
            margin-bottom: 0.5rem;
            background-color: var(--white-color);
            border-radius: var(--border-radius);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        [data-theme="dark"] .document-item {
            background-color: var(--card-bg);
        }

        .document-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .document-info {
            flex-grow: 1;
        }

        .document-name {
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 0.2rem;
        }

        [data-theme="dark"] .document-name {
            color: var(--text-color);
        }

        .document-description {
            font-size: 0.9rem;
            color: var(--secondary-color);
        }

        .document-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn-small {
            padding: 0.4rem 0.8rem;
            font-size: 0.8rem;
            margin: 0;
        }

        .btn-add {
            background-color: var(--accent-color);
            color: var(--white-color);
        }

        .btn-add:hover {
            background-color: #218838;
        }

        .btn-download {
            background-color: var(--primary-color);
            color: var(--white-color);
        }

        .btn-download:hover {
            background-color: #0056b3;
        }

        .no-documents {
            text-align: center;
            color: var(--secondary-color);
            font-style: italic;
            padding: 2rem;
        }

        .add-document-placeholder {
            text-align: center;
            padding: 2rem;
            border: 2px dashed var(--secondary-color);
            border-radius: var(--border-radius);
            background-color: rgba(0, 0, 0, 0.02);
        }

        [data-theme="dark"] .add-document-placeholder {
            background-color: rgba(255, 255, 255, 0.02);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Medical_Research_Counsellor.jpg/1920px-Medical_Research_Counsellor.jpg') no-repeat center center/cover;
            color: var(--white-color);
            text-align: center;
            padding: 8rem 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 70vh;
        }

        /* AI Search Bar Styles */
        .ai-search-container {
            padding: 5rem 2rem;
            background-color: var(--white-color);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 800px;
            margin: 5rem auto;
        }

        .ai-search-input {
            width: 100%;
            padding: 1rem;
            font-size: 1rem;
            border: 2px solid #ddd;
            border-radius: 5px;
            margin-bottom: 1rem;
            transition: border-color 0.3s ease;
        }

        .ai-search-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .ai-search-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }

        .ai-search-buttons .btn {
            margin-top: 0;
        }

        .ai-response-container {
            margin-top: 2rem;
            padding: 1.5rem;
            background-color: #f0f4f7;
            border-left: 5px solid var(--accent-color);
            border-radius: 5px;
            text-align: left;
            display: none; /* Initially hidden */
        }
        
        .ai-response-container.active {
            display: block;
        }

        .ai-response-container h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .ai-response-text {
            white-space: pre-wrap;
        }

        .ai-copy-btn {
            background-color: #fff;
            color: var(--dark-color);
            border: 1px solid #ddd;
            padding: 0.5rem 1rem;
            margin-top: 1rem;
            font-size: 0.8rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .ai-copy-btn:hover {
            background-color: var(--primary-color);
            color: var(--white-color);
            border-color: var(--primary-color);
        }
        
        /* Contact Section Improvements */
        .contact-info {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 2rem;
            margin-top: 2rem;
        }

        .info-item {
            text-align: center;
            flex-basis: 200px;
        }

        .info-item .icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .info-item h3 {
            font-size: 1.2rem;
            color: var(--dark-color);
        }

        /* Other sections and components are unchanged... */

        /* Admin Menu Styles */
        #admin-menu {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
        }

        #admin-toggle {
            background: var(--dark-color);
            color: var(--white-color);
            border: none;
            padding: 10px;
            cursor: pointer;
            font-size: 18px;
            border-radius: 4px;
        }

        #admin-dropdown {
            position: absolute;
            top: 50px;
            left: 0;
            background: var(--white-color);
            border: 1px solid #ddd;
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            min-width: 150px;
        }

        #admin-dropdown button {
            display: block;
            width: 100%;
            padding: 10px;
            background: none;
            border: none;
            text-align: left;
            cursor: pointer;
            border-bottom: 1px solid #eee;
        }

        #admin-dropdown button:hover {
            background: #f5f5f5;
        }

        #admin-dropdown button:last-child {
            border-bottom: none;
        }

        #doc-list, #delete-doc-list, #tab-names-container, #fields-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            margin-top: 10px;
        }

        #admin-action-boxes {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }

        .action-box {
            border: 1px solid #ddd;
            padding: 20px;
            text-align: center;
            background: #f9f9f9;
            border-radius: 8px;
            width: 45%;
        }

        .action-box h4 {
            margin-bottom: 10px;
        }

        .action-box button {
            padding: 10px 20px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .action-box button:hover {
            background: #0056b3;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .modal-content {
            background-color: rgba(255, 255, 255, 0.95);
            background-image: url('https://images.unsplash.com/photo-1559757148-5c350d0d3c56?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80');
            background-size: cover;
            background-position: center;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 90%;
            max-width: 400px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: var(--dark-color);
            text-decoration: none;
        }

        .modal input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .modal small {
            display: block;
            margin: 5px 0 10px 0;
            color: #666;
            font-size: 0.8rem;
        }

        .modal button {
            width: 100%;
            padding: 10px;
            background: var(--primary-color);
            color: var(--white-color);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }

        .modal button:hover {
            background: #0056b3;
        }

        .modal p {
            text-align: center;
            margin-top: 15px;
        }

        .modal a {
            color: var(--primary-color);
        }

        #login-message, #signup-message {
            margin-top: 10px;
            text-align: center;
            color: red;
        }

        /* Performance Optimizations */
        .hero {
            will-change: background-image;
        }

        .tab-content, .sub-content {
            will-change: transform, opacity;
        }

        /* Improved Mobile Responsiveness */
        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }

            h1 { font-size: 2.2rem; }
            h2 { font-size: 1.8rem; }
            .hero h2 { font-size: 2rem; }
            .hero p { font-size: 1rem; }
            .hero {
                padding: 4rem 0;
                min-height: 50vh;
            }

            header .container {
                flex-direction: column;
                text-align: center;
            }

            header h1 {
                margin-bottom: 1rem;
                font-size: 1.5rem;
            }

            nav ul {
                flex-direction: column;
                gap: 0.5rem;
            }

            nav ul li {
                margin: 0.25rem 0;
            }

            .dropdown {
                display: block;
                width: 100%;
            }

            .dropdown-content {
                position: static;
                display: none;
                width: 100%;
                box-shadow: none;
                background-color: #555;
                border-radius: 0;
                margin-top: 0.5rem;
            }

            .dropdown.active .dropdown-content {
                display: block;
            }

            .modal-content {
                margin: 10% auto;
                width: 95%;
                max-width: none;
            }

            .theme-toggle {
                top: 70px;
                right: 10px;
                padding: 10px;
                font-size: 1rem;
            }

            .ai-search-container {
                padding: 2rem 1rem;
                margin: 2rem auto;
            }

            .ai-search-buttons {
                flex-direction: column;
                gap: 0.5rem;
            }

            .tab-nav {
                flex-direction: column;
                align-items: center;
            }

            .tab-button {
                padding: 10px 15px;
                font-size: 0.9rem;
                margin: 0.25rem;
                min-width: 120px;
            }

            .nested-tab-nav {
                justify-content: center;
            }

            .nested-tab-nav .tab-button {
                padding: 8px 12px;
                font-size: 0.8rem;
                margin: 0.2rem;
                min-width: 100px;
            }

            .tab-content {
                max-height: 400px;
                padding: 1rem;
            }

            .sub-content {
                padding: 1rem;
            }

            .contact-info {
                flex-direction: column;
                gap: 1rem;
            }

            .info-item {
                flex-basis: auto;
            }

            .course-search {
                margin: 1rem auto !important;
                width: 95% !important;
            }

            .scroll-to-top {
                bottom: 15px !important;
                right: 15px !important;
                padding: 10px !important;
                font-size: 1rem !important;
            }
        }

        @media (max-width: 480px) {
            .hero h2 { font-size: 1.8rem; }
            .hero p { font-size: 0.9rem; }
            
            .tab-button {
                font-size: 0.8rem;
                padding: 8px 12px;
                min-width: 100px;
            }

            .nested-tab-nav .tab-button {
                font-size: 0.7rem;
                padding: 6px 10px;
                min-width: 80px;
            }

            .ai-search-container {
                padding: 1.5rem 0.5rem;
            }

            .modal-content {
                margin: 5% auto;
                padding: 15px;
            }
        }

        /* Print Styles */
        @media print {
            .theme-toggle,
            .scroll-to-top,
            #admin-menu,
            .ai-search-container,
            .adsense-ad {
                display: none !important;
            }

            body {
                background: white !important;
                color: black !important;
            }

            .tab-content,
            .sub-content {
                display: block !important;
                page-break-inside: avoid;
            }
        }

        /* Accessibility Improvements */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* High Contrast Mode */
        @media (prefers-contrast: high) {
            :root {
                --primary-color: #0066cc;
                --secondary-color: #666666;
                --accent-color: #009900;
            }
        }
    </style>
</head>
<body>

    <header>
        <div class="container">
            <h1>Studypedia</h1>
            <nav>
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#ai-search-section">AI Search</a></li>
                    <li class="dropdown">
                        <a href="#">Courses</a>
                        <ul class="dropdown-content">
                            <li><a href="#diploma-pharmacy">DIPLOMA PHARMACY</a></li>
                            <li><a href="#diploma-clinical-medicine">DIPLOMA CLINICAL MEDICINE</a></li>
                            <li><a href="#certificate-pharmacy">CERTIFICATE PHARMACY</a></li>
                            <li><a href="#certificate-medical-lab-science">CERTIFICATE MEDICAL LAB SCIENCE</a></li>
                            <li><a href="#certificate-medical-records">CERTIFICATE MEDICAL RECORDS</a></li>
                            <li><a href="#diploma-in-medical-records-mgt">DIPLOMA IN MEDICAL RECORDS MGT</a></li>
                        </ul>
                    </li>
                    <li><a href="#contact">Contact</a></li>
                    <li><a href="#privacy-policy-section">Privacy Policy</a></li>
                    <li><a href="#terms-and-conditions-section">T&Cs</a></li>
                    <li><button class="btn-nav" id="auth-btn">Sign Up / Login</button></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Admin Menu -->
    <div id="admin-menu" style="display: none;">
        <button id="admin-toggle">â‹®</button>
        <div id="admin-dropdown" style="display: none;">
            <button id="edit-doc-btn">Edit Documents</button>
            <button id="delete-doc-btn">Delete Documents</button>
            <button id="manage-fields-btn">Manage Fields</button>
            <button id="refresh-docs-btn">Refresh Documents</button>
        </div>
    </div>

    <!-- Dark Mode Toggle -->
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
        <i class="fas fa-moon"></i>
    </button>

    <div class="hero" id="home">
        <div class="container">
            <h2>Unlock Your Learning Potential with Studypedia</h2>
            <p>Your comprehensive resource for in-depth knowledge, tutorials, and academic support across various subjects.</p>
        </div>
    </div>

    <main>
        <div class="adsense-ad">
            <p>Ad Space Here - Replace with your AdSense code</p>
        </div>

        <section id="ai-search-section" class="ai-search-container">
            <h2>AI-Powered Learning Assistant</h2>
            <p>Ask a question or upload a photo to get instant answers from our AI.</p>
            <input type="text" id="ai-question-input" class="ai-search-input" placeholder="Type your question here...">
            <input type="file" id="ai-image-input" accept="image/*" style="display: none;">
            <div class="ai-search-buttons">
                <button class="btn" onclick="document.getElementById('ai-image-input').click();">Upload Photo</button>
                <button class="btn" id="ai-ask-btn">Ask</button>
            </div>
            
            <div id="ai-response-container" class="ai-response-container">
                <h3>Answer:</h3>
                <p id="ai-response-text" class="ai-response-text">The AI's answer will appear here. For example, a detailed explanation, a step-by-step solution, or a summary of the topic. The response will be long and comprehensive to show the full functionality.</p>
                <button class="ai-copy-btn" id="ai-copy-btn">Copy Answer</button>
            </div>
        </section>

        <div class="adsense-ad">
            <p>Ad Space Here - Replace with your AdSense code</p>
        </div>

        <section id="diploma-pharmacy" class="course-section container">
            <h2>DIPLOMA IN PHARMACY</h2>
            <p>This section contains all the study notes, resources, and information for the Diploma in Pharmacy course.</p>
            
            <div class="tab-nav">
                <button class="tab-button active" data-target="#diph1_1">DIPH1:1</button>
                <button class="tab-button" data-target="#diph1_2">DIPH1:2</button>
                <button class="tab-button" data-target="#diph2_1">DIPH2:1</button>
                <button class="tab-button" data-target="#diph2_2">DIPH2:2</button>
            </div>
            
            <div id="diph1_1" class="tab-content active">
                <h3>DIPH1:1 Content</h3>
                <p>This is the main content for DIPH1:1. Navigate through the topics below.</p>
                
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#diph1_1_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#diph1_1_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#diph1_1_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#diph1_1_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#diph1_1_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#diph1_1_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#diph1_1_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#diph1_1_sub8">Tab 8</button>
                    </div>
                    
                    <div id="diph1_1_sub1" class="sub-content active">
                        <h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_1_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph1_1_sub2" class="sub-content">
                        <h4>Notes for Tab 2</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_1_sub2">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph1_1_sub3" class="sub-content">
                        <h4>Notes for Tab 3</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_1_sub3">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph1_1_sub4" class="sub-content">
                        <h4>Notes for Tab 4</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_1_sub4">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph1_1_sub5" class="sub-content">
                        <h4>Notes for Tab 5</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_1_sub5">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph1_1_sub6" class="sub-content">
                        <h4>Notes for Tab 6</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_1_sub6">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph1_1_sub7" class="sub-content">
                        <h4>Notes for Tab 7</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_1_sub7">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph1_1_sub8" class="sub-content">
                        <h4>Notes for Tab 8</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_1_sub8">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="diph1_2" class="tab-content">
                <h3>DIPH1:2 Content</h3>
                <p>This is the main content for DIPH1:2. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#diph1_2_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#diph1_2_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#diph1_2_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#diph1_2_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#diph1_2_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#diph1_2_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#diph1_2_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#diph1_2_sub8">Tab 8</button>
                    </div>
                    <div id="diph1_2_sub1" class="sub-content active">
                        <h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_2_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph1_2_sub2" class="sub-content">
                        <h4>Notes for Tab 2</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_2_sub2">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph1_2_sub3" class="sub-content">
                        <h4>Notes for Tab 3</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_2_sub3">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph1_2_sub4" class="sub-content">
                        <h4>Notes for Tab 4</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_2_sub4">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph1_2_sub5" class="sub-content">
                        <h4>Notes for Tab 5</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_2_sub5">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph1_2_sub6" class="sub-content">
                        <h4>Notes for Tab 6</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_2_sub6">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph1_2_sub7" class="sub-content">
                        <h4>Notes for Tab 7</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_2_sub7">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph1_2_sub8" class="sub-content">
                        <h4>Notes for Tab 8</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph1_2_sub8">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="diph2_1" class="tab-content">
                <h3>DIPH2:1 Content</h3>
                <p>This is the main content for DIPH2:1. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#diph2_1_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#diph2_1_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#diph2_1_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#diph2_1_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#diph2_1_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#diph2_1_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#diph2_1_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#diph2_1_sub8">Tab 8</button>
                    </div>
                    <div id="diph2_1_sub1" class="sub-content active">
                        <h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_1_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph2_1_sub2" class="sub-content">
                        <h4>Notes for Tab 2</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_1_sub2">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph2_1_sub3" class="sub-content">
                        <h4>Notes for Tab 3</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_1_sub3">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph2_1_sub4" class="sub-content">
                        <h4>Notes for Tab 4</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_1_sub4">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph2_1_sub5" class="sub-content">
                        <h4>Notes for Tab 5</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_1_sub5">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph2_1_sub6" class="sub-content">
                        <h4>Notes for Tab 6</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_1_sub6">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph2_1_sub7" class="sub-content">
                        <h4>Notes for Tab 7</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_1_sub7">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph2_1_sub8" class="sub-content">
                        <h4>Notes for Tab 8</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_1_sub8">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="diph2_2" class="tab-content">
                <h3>DIPH2:2 Content</h3>
                <p>This is the main content for DIPH2:2. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#diph2_2_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#diph2_2_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#diph2_2_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#diph2_2_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#diph2_2_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#diph2_2_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#diph2_2_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#diph2_2_sub8">Tab 8</button>
                    </div>
                    <div id="diph2_2_sub1" class="sub-content active">
                        <h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_2_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph2_2_sub2" class="sub-content">
                        <h4>Notes for Tab 2</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_2_sub2">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph2_2_sub3" class="sub-content">
                        <h4>Notes for Tab 3</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_2_sub3">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph2_2_sub4" class="sub-content">
                        <h4>Notes for Tab 4</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_2_sub4">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph2_2_sub5" class="sub-content">
                        <h4>Notes for Tab 5</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_2_sub5">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph2_2_sub6" class="sub-content">
                        <h4>Notes for Tab 6</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_2_sub6">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph2_2_sub7" class="sub-content">
                        <h4>Notes for Tab 7</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_2_sub7">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                    <div id="diph2_2_sub8" class="sub-content">
                        <h4>Notes for Tab 8</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="diph2_2_sub8">
                            <!-- Documents will be loaded here dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="diploma-clinical-medicine" class="course-section container">
            <h2>DIPLOMA IN CLINICAL MEDICINE</h2>
            <p>This section contains comprehensive study materials and insights for the Diploma in Clinical Medicine.</p>
            
            <div class="tab-nav">
                <button class="tab-button active" data-target="#dicm1_1">DICM1:1</button>
                <button class="tab-button" data-target="#dicm1_2">DICM1:2</button>
                <button class="tab-button" data-target="#dicm2_1">DICM2:1</button>
                <button class="tab-button" data-target="#dicm2_2">DICM2:2</button>
            </div>
            
            <div id="dicm1_1" class="tab-content active">
                <h3>DICM1:1 Content</h3>
                <p>This is the main content for DICM1:1. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#dicm1_1_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#dicm1_1_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#dicm1_1_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#dicm1_1_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#dicm1_1_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#dicm1_1_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#dicm1_1_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#dicm1_1_sub8">Tab 8</button>
                    </div>
                    <div id="dicm1_1_sub1" class="sub-content active"><h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="dicm1_1_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div></div>
                    <div id="dicm1_1_sub2" class="sub-content"><h4>Notes for Tab 2</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm1_1_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm1_1_sub3" class="sub-content"><h4>Notes for Tab 3</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm1_1_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm1_1_sub4" class="sub-content"><h4>Notes for Tab 4</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm1_1_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm1_1_sub5" class="sub-content"><h4>Notes for Tab 5</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm1_1_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm1_1_sub6" class="sub-content"><h4>Notes for Tab 6</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm1_1_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm1_1_sub7" class="sub-content"><h4>Notes for Tab 7</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm1_1_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm1_1_sub8" class="sub-content"><h4>Notes for Tab 8</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm1_1_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
            
            <div id="dicm1_2" class="tab-content">
                <h3>DICM1:2 Content</h3>
                <p>This is the main content for DICM1:2. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#dicm1_2_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#dicm1_2_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#dicm1_2_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#dicm1_2_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#dicm1_2_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#dicm1_2_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#dicm1_2_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#dicm1_2_sub8">Tab 8</button>
                    </div>
                    <div id="dicm1_2_sub1" class="sub-content active"><h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="dicm1_2_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div></div>
                    <div id="dicm1_2_sub2" class="sub-content"><h4>Notes for Tab 2</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm1_2_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm1_2_sub3" class="sub-content"><h4>Notes for Tab 3</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm1_2_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm1_2_sub4" class="sub-content"><h4>Notes for Tab 4</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm1_2_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm1_2_sub5" class="sub-content"><h4>Notes for Tab 5</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm1_2_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm1_2_sub6" class="sub-content"><h4>Notes for Tab 6</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm1_2_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm1_2_sub7" class="sub-content"><h4>Notes for Tab 7</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm1_2_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm1_2_sub8" class="sub-content"><h4>Notes for Tab 8</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm1_2_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
            
            <div id="dicm2_1" class="tab-content">
                <h3>DICM2:1 Content</h3>
                <p>This is the main content for DICM2:1. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#dicm2_1_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#dicm2_1_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#dicm2_1_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#dicm2_1_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#dicm2_1_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#dicm2_1_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#dicm2_1_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#dicm2_1_sub8">Tab 8</button>
                    </div>
                    <div id="dicm2_1_sub1" class="sub-content active"><h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="dicm2_1_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div></div>
                    <div id="dicm2_1_sub2" class="sub-content"><h4>Notes for Tab 2</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm2_1_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm2_1_sub3" class="sub-content"><h4>Notes for Tab 3</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm2_1_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm2_1_sub4" class="sub-content"><h4>Notes for Tab 4</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm2_1_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm2_1_sub5" class="sub-content"><h4>Notes for Tab 5</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm2_1_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm2_1_sub6" class="sub-content"><h4>Notes for Tab 6</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm2_1_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm2_1_sub7" class="sub-content"><h4>Notes for Tab 7</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm2_1_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm2_1_sub8" class="sub-content"><h4>Notes for Tab 8</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm2_1_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
            
            <div id="dicm2_2" class="tab-content">
                <h3>DICM2:2 Content</h3>
                <p>This is the main content for DICM2:2. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#dicm2_2_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#dicm2_2_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#dicm2_2_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#dicm2_2_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#dicm2_2_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#dicm2_2_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#dicm2_2_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#dicm2_2_sub8">Tab 8</button>
                    </div>
                    <div id="dicm2_2_sub1" class="sub-content active"><h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="dicm2_2_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div></div>
                    <div id="dicm2_2_sub2" class="sub-content"><h4>Notes for Tab 2</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm2_2_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm2_2_sub3" class="sub-content"><h4>Notes for Tab 3</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm2_2_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm2_2_sub4" class="sub-content"><h4>Notes for Tab 4</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm2_2_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm2_2_sub5" class="sub-content"><h4>Notes for Tab 5</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm2_2_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm2_2_sub6" class="sub-content"><h4>Notes for Tab 6</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm2_2_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm2_2_sub7" class="sub-content"><h4>Notes for Tab 7</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm2_2_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="dicm2_2_sub8" class="sub-content"><h4>Notes for Tab 8</h4><p>Add your study notes for this section here.</p><a href="/documents/dicm2_2_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
        </section>

        <section id="certificate-pharmacy" class="course-section container">
            <h2>CERTIFICATE IN PHARMACY</h2>
            <p>This is the content hub for the Certificate in Pharmacy. Use the tabs below to navigate through the course modules.</p>
            
            <div class="tab-nav">
                <button class="tab-button active" data-target="#cpha1_1">cpha1:1</button>
                <button class="tab-button" data-target="#cpha1_2">cpha1:2</button>
                <button class="tab-button" data-target="#cpha2_1">cpha2:1</button>
                <button class="tab-button" data-target="#cpha2_2">cpha2:2</button>
            </div>
            
            <div id="cpha1_1" class="tab-content active">
                <h3>cpha1:1 Content</h3>
                <p>ACCESS ALL COURSE UNITS FOR cpha1:1.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#cpha1_1_sub1">ANATOMY AND PHYSIOLOGY</button>
                        <button class="tab-button" data-target="#cpha1_1_sub2">MICROBIOLOGY</button>
                        <button class="tab-button" data-target="#cpha1_1_sub3">PHARM CHEM</button>
                        <button class="tab-button" data-target="#cpha1_1_sub4">FIRST AID</button>
                        <button class="tab-button" data-target="#cpha1_1_sub5">COMPUTER</button>
                        <button class="tab-button" data-target="#cpha1_1_sub6">PHC</button>
                        <button class="tab-button" data-target="#cpha1_1_sub7">PASTPAPERS</button>
                        <button class="tab-button" data-target="#cpha1_1_sub8">Tab 8</button>
                    </div>
                    <div id="cpha1_1_sub1" class="sub-content active"><h4>Sub-content 1</h4><p>This is the innermost content for cpha1:1, ANATOMY AND PHYSIOLOGY. You can add your medical notes here!</p><a href="/documents/cpha1_1_sub1_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha1_1_sub2" class="sub-content"><h4>Sub-content 2</h4><p>This is the innermost content for cpha1:1, MICROBIOLOGY.</p><a href="/documents/cpha1_1_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha1_1_sub3" class="sub-content"><h4>Sub-content 3</h4><p>This is the innermost content for cpha1:1, PHARM CHEM.</p><a href="/documents/cpha1_1_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha1_1_sub4" class="sub-content"><h4>Sub-content 4</h4><p>This is the innermost content for cpha1:1,FIRST AID.</p><a href="/documents/cpha1_1_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha1_1_sub5" class="sub-content"><h4>Sub-content 5</h4><p>This is the innermost content for cpha1:1,COMPUTER.</p><a href="/documents/cpha1_1_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha1_1_sub6" class="sub-content"><h4>Sub-content 6</h4><p>This is the innermost content for cpha1:1,PHC.</p><a href="/documents/cpha1_1_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha1_1_sub7" class="sub-content"><h4>Sub-content 7</h4><p>This is the innermost content for cpha1:1,PASTPAPERS.</p><a href="/documents/cpha1_1_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha1_1_sub8" class="sub-content"><h4>Sub-content 8</h4><p>This is the innermost content for cpha1:1,.</p><a href="/documents/cpha1_1_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
            
            <div id="cpha1_2" class="tab-content">
                <h3>cpha1:2 Content</h3>
                <p>This is the main content for cpha1:2. It contains the next level of tabs.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#cpha1_2_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#cpha1_2_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#cpha1_2_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#cpha1_2_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#cpha1_2_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#cpha1_2_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#cpha1_2_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#cpha1_2_sub8">Tab 8</button>
                    </div>
                    <div id="cpha1_2_sub1" class="sub-content active"><h4>Sub-content 1</h4><p>This is the innermost content for cpha1:2, Tab 1.</p><a href="/documents/cpha1_2_sub1_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha1_2_sub2" class="sub-content"><h4>Sub-content 2</h4><p>This is the innermost content for cpha1:2, Tab 2.</p><a href="/documents/cpha1_2_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha1_2_sub3" class="sub-content"><h4>Sub-content 3</h4><p>This is the innermost content for cpha1:2, Tab 3.</p><a href="/documents/cpha1_2_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha1_2_sub4" class="sub-content"><h4>Sub-content 4</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha1_2_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha1_2_sub5" class="sub-content"><h4>Sub-content 5</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha1_2_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha1_2_sub6" class="sub-content"><h4>Sub-content 6</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha1_2_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha1_2_sub7" class="sub-content"><h4>Sub-content 7</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha1_2_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha1_2_sub8" class="sub-content"><h4>Sub-content 8</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha1_2_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
            
            <div id="cpha2_1" class="tab-content">
                <h3>cpha2:1 Content</h3>
                <p>This is the main content for cpha2:1. It contains the next level of tabs.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#cpha2_1_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#cpha2_1_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#cpha2_1_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#cpha2_1_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#cpha2_1_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#cpha2_1_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#cpha2_1_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#cpha2_1_sub8">Tab 8</button>
                    </div>
                    <div id="cpha2_1_sub1" class="sub-content active"><h4>Sub-content 1</h4><p>This is the innermost content for cpha2:1, Tab 1.</p><a href="/documents/cpha2_1_sub1_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha2_1_sub2" class="sub-content"><h4>Sub-content 2</h4><p>This is the innermost content for cpha2:1, Tab 2.</p><a href="/documents/cpha2_1_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha2_1_sub3" class="sub-content"><h4>Sub-content 3</h4><p>This is the innermost content for cpha2:1, Tab 3.</p><a href="/documents/cpha2_1_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha2_1_sub4" class="sub-content"><h4>Sub-content 4</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha2_1_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha2_1_sub5" class="sub-content"><h4>Sub-content 5</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha2_1_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha2_1_sub6" class="sub-content"><h4>Sub-content 6</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha2_1_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha2_1_sub7" class="sub-content"><h4>Sub-content 7</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha2_1_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha2_1_sub8" class="sub-content"><h4>Sub-content 8</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha2_1_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
            
            <div id="cpha2_2" class="tab-content">
                <h3>cpha2:2 Content</h3>
                <p>This is the main content for cpha2:2. It contains the next level of tabs.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#cpha2_2_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#cpha2_2_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#cpha2_2_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#cpha2_2_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#cpha2_2_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#cpha2_2_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#cpha2_2_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#cpha2_2_sub8">Tab 8</button>
                    </div>
                    <div id="cpha2_2_sub1" class="sub-content active"><h4>Sub-content 1</h4><p>This is the innermost content for cpha2:2, Tab 1.</p><a href="/documents/cpha2_2_sub1_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha2_2_sub2" class="sub-content"><h4>Sub-content 2</h4><p>This is the innermost content for cpha2:2, Tab 2.</p><a href="/documents/cpha2_2_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha2_2_sub3" class="sub-content"><h4>Sub-content 3</h4><p>This is the innermost content for cpha2:2, Tab 3.</p><a href="/documents/cpha2_2_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha2_2_sub4" class="sub-content"><h4>Sub-content 4</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha2_2_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha2_2_sub5" class="sub-content"><h4>Sub-content 5</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha2_2_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha2_2_sub6" class="sub-content"><h4>Sub-content 6</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha2_2_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha2_2_sub7" class="sub-content"><h4>Sub-content 7</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha2_2_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cpha2_2_sub8" class="sub-content"><h4>Sub-content 8</h4><p>Add your study notes for this section here.</p><a href="/documents/cpha2_2_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
            
        </section>

        <section id="certificate-medical-lab-science" class="course-section container">
            <h2>CERTIFICATE IN MEDICAL LABORATORY SCIENCE</h2>
            <p>This section contains all study notes for the Certificate in Medical Laboratory Science. You can use the tabs below to navigate through the course modules.</p>
            
            <div class="tab-nav">
                <button class="tab-button active" data-target="#cmls1_1">CMLS1:1</button>
                <button class="tab-button" data-target="#cmls1_2">CMLS1:2</button>
                <button class="tab-button" data-target="#cmls2_1">CMLS2:1</button>
                <button class="tab-button" data-target="#cmls2_2">CMLS2:2</button>
            </div>
            
            <div id="cmls1_1" class="tab-content active">
                <h3>CMLS1:1 Content</h3>
                <p>This is the main content for CMLS1:1. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#cmls1_1_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#cmls1_1_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#cmls1_1_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#cmls1_1_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#cmls1_1_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#cmls1_1_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#cmls1_1_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#cmls1_1_sub8">Tab 8</button>
                    </div>
                    <div id="cmls1_1_sub1" class="sub-content active"><h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="cmls1_1_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div></div>
                    <div id="cmls1_1_sub2" class="sub-content"><h4>Notes for Tab 2</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls1_1_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls1_1_sub3" class="sub-content"><h4>Notes for Tab 3</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls1_1_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls1_1_sub4" class="sub-content"><h4>Notes for Tab 4</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls1_1_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls1_1_sub5" class="sub-content"><h4>Notes for Tab 5</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls1_1_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls1_1_sub6" class="sub-content"><h4>Notes for Tab 6</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls1_1_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls1_1_sub7" class="sub-content"><h4>Notes for Tab 7</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls1_1_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls1_1_sub8" class="sub-content"><h4>Notes for Tab 8</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls1_1_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
            
            <div id="cmls1_2" class="tab-content">
                <h3>CMLS1:2 Content</h3>
                <p>This is the main content for CMLS1:2. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#cmls1_2_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#cmls1_2_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#cmls1_2_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#cmls1_2_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#cmls1_2_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#cmls1_2_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#cmls1_2_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#cmls1_2_sub8">Tab 8</button>
                    </div>
                    <div id="cmls1_2_sub1" class="sub-content active"><h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="cmls1_2_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div></div>
                    <div id="cmls1_2_sub2" class="sub-content"><h4>Notes for Tab 2</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls1_2_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls1_2_sub3" class="sub-content"><h4>Notes for Tab 3</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls1_2_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls1_2_sub4" class="sub-content"><h4>Notes for Tab 4</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls1_2_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls1_2_sub5" class="sub-content"><h4>Notes for Tab 5</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls1_2_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls1_2_sub6" class="sub-content"><h4>Notes for Tab 6</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls1_2_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls1_2_sub7" class="sub-content"><h4>Notes for Tab 7</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls1_2_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls1_2_sub8" class="sub-content"><h4>Notes for Tab 8</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls1_2_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
            
            <div id="cmls2_1" class="tab-content">
                <h3>CMLS2:1 Content</h3>
                <p>This is the main content for CMLS2:1. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#cmls2_1_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#cmls2_1_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#cmls2_1_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#cmls2_1_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#cmls2_1_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#cmls2_1_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#cmls2_1_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#cmls2_1_sub8">Tab 8</button>
                    </div>
                    <div id="cmls2_1_sub1" class="sub-content active"><h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="cmls2_1_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div></div>
                    <div id="cmls2_1_sub2" class="sub-content"><h4>Notes for Tab 2</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls2_1_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls2_1_sub3" class="sub-content"><h4>Notes for Tab 3</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls2_1_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls2_1_sub4" class="sub-content"><h4>Notes for Tab 4</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls2_1_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls2_1_sub5" class="sub-content"><h4>Notes for Tab 5</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls2_1_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls2_1_sub6" class="sub-content"><h4>Notes for Tab 6</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls2_1_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls2_1_sub7" class="sub-content"><h4>Notes for Tab 7</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls2_1_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls2_1_sub8" class="sub-content"><h4>Notes for Tab 8</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls2_1_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
            
            <div id="cmls2_2" class="tab-content">
                <h3>CMLS2:2 Content</h3>
                <p>This is the main content for CMLS2:2. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#cmls2_2_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#cmls2_2_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#cmls2_2_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#cmls2_2_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#cmls2_2_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#cmls2_2_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#cmls2_2_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#cmls2_2_sub8">Tab 8</button>
                    </div>
                    <div id="cmls2_2_sub1" class="sub-content active"><h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="cmls2_2_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div></div>
                    <div id="cmls2_2_sub2" class="sub-content"><h4>Notes for Tab 2</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls2_2_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls2_2_sub3" class="sub-content"><h4>Notes for Tab 3</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls2_2_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls2_2_sub4" class="sub-content"><h4>Notes for Tab 4</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls2_2_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls2_2_sub5" class="sub-content"><h4>Notes for Tab 5</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls2_2_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls2_2_sub6" class="sub-content"><h4>Notes for Tab 6</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls2_2_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls2_2_sub7" class="sub-content"><h4>Notes for Tab 7</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls2_2_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmls2_2_sub8" class="sub-content"><h4>Notes for Tab 8</h4><p>Add your study notes for this section here.</p><a href="/documents/cmls2_2_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
        </section>

        <section id="certificate-medical-records" class="course-section container">
            <h2>CERTIFICATE IN MEDICAL RECORDS</h2>
            <p>This section is dedicated to the Certificate in Medical Records. You can use the tabs below to navigate through the course modules.</p>
            
            <div class="tab-nav">
                <button class="tab-button active" data-target="#cmr1_1">CMR1:1</button>
                <button class="tab-button" data-target="#cmr1_2">CMR1:2</button>
                <button class="tab-button" data-target="#cmr2_1">CMR2:1</button>
                <button class="tab-button" data-target="#cmr2_2">CMR2:2</button>
            </div>
            
            <div id="cmr1_1" class="tab-content active">
                <h3>CMR1:1 Content</h3>
                <p>This is the main content for CMR1:1. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#cmr1_1_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#cmr1_1_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#cmr1_1_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#cmr1_1_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#cmr1_1_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#cmr1_1_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#cmr1_1_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#cmr1_1_sub8">Tab 8</button>
                    </div>
                    <div id="cmr1_1_sub1" class="sub-content active"><h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="cmr1_1_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div></div>
                    <div id="cmr1_1_sub2" class="sub-content"><h4>Notes for Tab 2</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr1_1_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr1_1_sub3" class="sub-content"><h4>Notes for Tab 3</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr1_1_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr1_1_sub4" class="sub-content"><h4>Notes for Tab 4</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr1_1_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr1_1_sub5" class="sub-content"><h4>Notes for Tab 5</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr1_1_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr1_1_sub6" class="sub-content"><h4>Notes for Tab 6</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr1_1_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr1_1_sub7" class="sub-content"><h4>Notes for Tab 7</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr1_1_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr1_1_sub8" class="sub-content"><h4>Notes for Tab 8</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr1_1_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
            
            <div id="cmr1_2" class="tab-content">
                <h3>CMR1:2 Content</h3>
                <p>This is the main content for CMR1:2. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#cmr1_2_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#cmr1_2_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#cmr1_2_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#cmr1_2_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#cmr1_2_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#cmr1_2_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#cmr1_2_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#cmr1_2_sub8">Tab 8</button>
                    </div>
                    <div id="cmr1_2_sub1" class="sub-content active"><h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="cmr1_2_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div></div>
                    <div id="cmr1_2_sub2" class="sub-content"><h4>Notes for Tab 2</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr1_2_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr1_2_sub3" class="sub-content"><h4>Notes for Tab 3</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr1_2_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr1_2_sub4" class="sub-content"><h4>Notes for Tab 4</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr1_2_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr1_2_sub5" class="sub-content"><h4>Notes for Tab 5</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr1_2_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr1_2_sub6" class="sub-content"><h4>Notes for Tab 6</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr1_2_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr1_2_sub7" class="sub-content"><h4>Notes for Tab 7</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr1_2_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr1_2_sub8" class="sub-content"><h4>Notes for Tab 8</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr1_2_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
            
            <div id="cmr2_1" class="tab-content">
                <h3>CMR2:1 Content</h3>
                <p>This is the main content for CMR2:1. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#cmr2_1_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#cmr2_1_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#cmr2_1_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#cmr2_1_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#cmr2_1_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#cmr2_1_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#cmr2_1_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#cmr2_1_sub8">Tab 8</button>
                    </div>
                    <div id="cmr2_1_sub1" class="sub-content active"><h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="cmr2_1_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div></div>
                    <div id="cmr2_1_sub2" class="sub-content"><h4>Notes for Tab 2</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr2_1_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr2_1_sub3" class="sub-content"><h4>Notes for Tab 3</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr2_1_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr2_1_sub4" class="sub-content"><h4>Notes for Tab 4</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr2_1_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr2_1_sub5" class="sub-content"><h4>Notes for Tab 5</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr2_1_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr2_1_sub6" class="sub-content"><h4>Notes for Tab 6</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr2_1_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr2_1_sub7" class="sub-content"><h4>Notes for Tab 7</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr2_1_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr2_1_sub8" class="sub-content"><h4>Notes for Tab 8</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr2_1_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
            
            <div id="cmr2_2" class="tab-content">
                <h3>CMR2:2 Content</h3>
                <p>This is the main content for CMR2:2. Navigate through the topics below.</p>
                <div class="nested-tab-container">
                    <div class="nested-tab-nav">
                        <button class="tab-button active" data-target="#cmr2_2_sub1">Tab 1</button>
                        <button class="tab-button" data-target="#cmr2_2_sub2">Tab 2</button>
                        <button class="tab-button" data-target="#cmr2_2_sub3">Tab 3</button>
                        <button class="tab-button" data-target="#cmr2_2_sub4">Tab 4</button>
                        <button class="tab-button" data-target="#cmr2_2_sub5">Tab 5</button>
                        <button class="tab-button" data-target="#cmr2_2_sub6">Tab 6</button>
                        <button class="tab-button" data-target="#cmr2_2_sub7">Tab 7</button>
                        <button class="tab-button" data-target="#cmr2_2_sub8">Tab 8</button>
                    </div>
                    <div id="cmr2_2_sub1" class="sub-content active"><h4>Notes for Tab 1</h4>
                        <p>Documents available for this section:</p>
                        <div class="documents-container" data-tab-id="cmr2_2_sub1">
                            <!-- Documents will be loaded here dynamically -->
                        </div></div>
                    <div id="cmr2_2_sub2" class="sub-content"><h4>Notes for Tab 2</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr2_2_sub2_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr2_2_sub3" class="sub-content"><h4>Notes for Tab 3</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr2_2_sub3_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr2_2_sub4" class="sub-content"><h4>Notes for Tab 4</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr2_2_sub4_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr2_2_sub5" class="sub-content"><h4>Notes for Tab 5</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr2_2_sub5_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr2_2_sub6" class="sub-content"><h4>Notes for Tab 6</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr2_2_sub6_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr2_2_sub7" class="sub-content"><h4>Notes for Tab 7</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr2_2_sub7_notes.pdf" download class="btn">Download Document</a></div>
                    <div id="cmr2_2_sub8" class="sub-content"><h4>Notes for Tab 8</h4><p>Add your study notes for this section here.</p><a href="/documents/cmr2_2_sub8_notes.pdf" download class="btn">Download Document</a></div>
                </div>
            </div>
        </section>
        
        <section id="contact">
            <div class="container text-center">
                <h2>Contact Us</h2>
                <p>Feel free to reach out to us with any questions or feedback. We're here to help!</p>
                <div class="contact-info">
                    <div class="info-item">
                        <i class="fas fa-phone-alt icon"></i>
                        <h3>Call Us</h3>
                        <a href="tel:+256756454646">+256 756 454 646</a>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-envelope icon"></i>
                        <h3>Email</h3>
                        <a href="mailto:kaigwaakram123@gmail.com">kaigwaakram123@gmail.com</a>
                    </div>
                    <div class="info-item">
                        <i class="fab fa-whatsapp icon"></i>
                        <h3>WhatsApp</h3>
                        <a href="https://wa.me/256749846848">+256 749 846 848</a>
                    </div>
                    <div class="info-item">
                        <i class="fab fa-telegram-plane icon"></i>
                        <h3>Telegram</h3>
                        <a href="https://t.me/+256706571957">+256 706 571 957</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="privacy-policy-section" class="policy-container">
            <div class="container text-center">
                <h2>Privacy Policy</h2>
                <button id="togglePrivacy" class="btn">View Our Privacy Policy</button>
                <div id="privacy-content" class="policy-content">
                    <h3>Studypedia Privacy Policy</h3>
                    <p><strong>Last Updated:</strong> October 26, 2025</p>
                    <p>Welcome to Studypedia. We are committed to protecting your privacy and providing a safe online experience. This Privacy Policy explains how we collect, use, and safeguard your information when you visit our website.</p>
                    <h4>1. Information We Collect</h4>
                    <p>We may collect personal data, derivative data, and financial data that you voluntarily provide when you register with the site, subscribe to services, or make a purchase.</p>
                    <h4>2. How We Use Your Information</h4>
                    <p>Your information helps us to create and manage your account, fulfill orders, improve the site's efficiency, and personalize your experience.</p>
                    <h4>3. Disclosure of Your Information</h4>
                    <p>We may share your information with third-party service providers who assist us in operating the site. We will not sell or share your information with third parties for marketing purposes without your explicit consent.</p>
                    <h4>4. Security of Your Information</h4>
                    <p>We use administrative, technical, and physical security measures to protect your personal information. However, no security measure is completely impenetrable.</p>
                    <h4>5. Policy for Children</h4>
                    <p>We do not knowingly solicit information from or market to children under the age of 13. If you believe we have, please contact us.</p>
                    <h4>6. Changes to This Privacy Policy</h4>
                    <p>We reserve the right to update this policy at any time. We will notify you of changes by updating the "Last Updated" date on this page.</p>
                </div>
            </div>
        </section>
        
        <section id="terms-and-conditions-section" class="terms-container">
            <div class="container text-center">
                <h2>Terms and Conditions</h2>
                <button id="toggleTerms" class="btn">Read Our Terms and Conditions</button>
                <div id="terms-content" class="terms-content">
                    <h3>Terms and Conditions of Use</h3>
                    <p><strong>Last Updated:</strong> October 26, 2025</p>
                    <p>By accessing and using Studypedia, you agree to be bound by these Terms and Conditions. If you do not agree, please do not use this website.</p>
                    <h4>1. Acceptance of Terms</h4>
                    <p>By accessing this website, you are agreeing to be bound by these Terms and Conditions of Use, all applicable laws and regulations, and agree that you are responsible for compliance with any applicable local laws. The materials contained in this website are protected by applicable copyright and trademark law.</p>
                    <h4>2. Intellectual Property</h4>
                    <p>All content on Studypedia, including text, graphics, logos, images, and notes, is the property of Studypedia or its content suppliers and protected by international copyright laws. The use of this content for any purpose other than personal, non-commercial use is strictly prohibited without our prior written consent.</p>
                    <h4>3. User Conduct</h4>
                    <p>You agree to use the website only for lawful purposes. You are prohibited from using this site to transmit any unlawful, harmful, threatening, abusive, harassing, defamatory, vulgar, obscene, or otherwise objectionable material.</p>
                    <h4>4. Disclaimer of Warranties</h4>
                    <p>The content provided on this website is for informational and educational purposes only. We make no warranties, expressed or implied, regarding the accuracy, reliability, or completeness of the medical information provided. **The information on this site is not a substitute for professional medical advice, diagnosis, or treatment.** Always seek the advice of a qualified health provider with any questions you may have regarding a medical condition.</p>
                    <h4>5. Limitation of Liability</h4>
                    <p>Studypedia and its affiliates will not be liable for any direct, indirect, incidental, special, or consequential damages resulting from the use or inability to use our website or services, or for the cost of procurement of substitute goods and services.</p>
                    <h4>6. Governing Law</h4>
                    <p>Any claim relating to Studypedia's website shall be governed by the laws of Uganda without regard to its conflict of law provisions.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Auth Modal -->
    <div id="auth-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="login-form">
                <h2>Login</h2>
                <input type="email" id="login-email" placeholder="Email" required>
                <input type="password" id="login-password" placeholder="Password" required>
                <small>Password must be at least 8 characters.</small>
                <button id="login-btn">Login</button>
                <p>Don't have an account? <a href="#" id="switch-to-signup">Sign Up</a></p>
                <div id="login-message"></div>
            </div>
            <div id="signup-form" style="display: none;">
                <h2>Sign Up</h2>
                <input type="email" id="signup-email" placeholder="Email" required>
                <input type="password" id="signup-password" placeholder="Password" required>
                <small>Password must be at least 8 characters.</small>
                <button id="signup-btn">Sign Up</button>
                <p>Already have an account? <a href="#" id="switch-to-login">Login</a></p>
                <div id="signup-message"></div>
            </div>
        </div>
    </div>

    <!-- Admin Modals -->
    <div id="add-doc-modal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="add-doc-modal">&times;</span>
            <h2>Add Document</h2>
            <select id="doc-course" required>
                <option value="">Select Course</option>
                <option value="DIPLOMA_PHARMACY">Diploma Pharmacy</option>
                <option value="DIPLOMA_CLINICAL_MEDICINE">Diploma Clinical Medicine</option>
                <option value="CERTIFICATE_PHARMACY">Certificate Pharmacy</option>
                <option value="CERTIFICATE_MEDICAL_LAB_SCIENCE">Certificate Medical Lab Science</option>
                <option value="CERTIFICATE_MEDICAL_RECORDS">Certificate Medical Records</option>
                <option value="DIPLOMA_MEDICAL_RECORDS_MGT">Diploma Medical Records Management</option>
            </select>
            <input type="text" id="doc-id" placeholder="Document ID (e.g., diph1_1_sub1)" required>
            <input type="text" id="doc-name" placeholder="Document Name" required>
            <input type="text" id="doc-description" placeholder="Document Description (optional)">
            <input type="url" id="doc-link" placeholder="Google Drive Link" required>
            <button id="save-doc-btn">Save Document</button>
            <div id="add-doc-message"></div>
        </div>
    </div>

    <div id="edit-doc-modal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="edit-doc-modal">&times;</span>
            <h2>Edit Documents</h2>
            <div id="doc-list"></div>
        </div>
    </div>

    <div id="delete-doc-modal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="delete-doc-modal">&times;</span>
            <h2>Delete Documents</h2>
            <div id="delete-doc-list"></div>
        </div>
    </div>

    <div id="manage-fields-modal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="manage-fields-modal">&times;</span>
            <h2>Manage Fields</h2>
            <div id="fields-list">
                <p>Loading fields...</p>
            </div>
            <h3>Edit Tab Names</h3>
            <select id="tab-course-select">
                <option value="">Select Course</option>
                <option value="CERTIFICATE_PHARMACY">Certificate Pharmacy</option>
                <option value="DIPLOMA_PHARMACY">Diploma Pharmacy</option>
                <option value="DIPLOMA_CLINICAL_MEDICINE">Diploma Clinical Medicine</option>
                <option value="CERTIFICATE_MEDICAL_LAB_SCIENCE">Certificate Medical Lab Science</option>
                <option value="CERTIFICATE_MEDICAL_RECORDS">Certificate Medical Records</option>
                <option value="DIPLOMA_MEDICAL_RECORDS_MGT">Diploma Medical Records Management</option>
            </select>
            <select id="tab-main-select" style="display: none;">
                <option value="">Select Main Tab</option>
            </select>
            <div id="tab-names-container" style="display: none;">
                <input type="text" id="tab1" placeholder="Tab 1 Name">
                <input type="text" id="tab2" placeholder="Tab 2 Name">
                <input type="text" id="tab3" placeholder="Tab 3 Name">
                <input type="text" id="tab4" placeholder="Tab 4 Name">
                <input type="text" id="tab5" placeholder="Tab 5 Name">
                <input type="text" id="tab6" placeholder="Tab 6 Name">
                <input type="text" id="tab7" placeholder="Tab 7 Name">
                <input type="text" id="tab8" placeholder="Tab 8 Name">
                <button id="save-tabs-btn">Rename</button>
            </div>
            <div id="admin-action-boxes">
                <div class="action-box">
                    <h4>Add Document</h4>
                    <button id="open-add-doc-btn">Add Document</button>
                </div>
                <div class="action-box">
                    <h4>Edit Documents</h4>
                    <button id="open-edit-doc-btn">Edit Documents</button>
                </div>
            </div>
        </div>
    </div>

    <div id="edit-tabs-modal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="edit-tabs-modal">&times;</span>
            <h2>Edit Tab Names</h2>
            <select id="tab-course-select">
                <option value="">Select Course</option>
                <option value="diploma-pharmacy">Diploma Pharmacy</option>
                <option value="diploma-clinical-medicine">Diploma Clinical Medicine</option>
                <option value="certificate-pharmacy">Certificate Pharmacy</option>
                <option value="certificate-medical-lab-science">Certificate Medical Lab Science</option>
                <option value="certificate-medical-records">Certificate Medical Records</option>
            </select>
            <select id="tab-main-select" style="display: none;">
                <option value="">Select Main Tab</option>
            </select>
            <div id="tab-names-container" style="display: none;">
                <input type="text" id="tab1" placeholder="Tab 1 Name">
                <input type="text" id="tab2" placeholder="Tab 2 Name">
                <input type="text" id="tab3" placeholder="Tab 3 Name">
                <input type="text" id="tab4" placeholder="Tab 4 Name">
                <input type="text" id="tab5" placeholder="Tab 5 Name">
                <input type="text" id="tab6" placeholder="Tab 6 Name">
                <input type="text" id="tab7" placeholder="Tab 7 Name">
                <input type="text" id="tab8" placeholder="Tab 8 Name">
                <button id="save-tabs-btn">Rename</button>
                <div id="tabs-message"></div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2025 Studypedia. All Rights Reserved.</p>
        </div>
    </footer>

    <script>
        // --- Firebase Configuration ---
        const firebaseConfig = {
            apiKey: "AIzaSyBZLoJZVVCVAWafhd4Oh8bhEGV4waN1B5g",
            authDomain: "studypedia-app.firebaseapp.com",
            projectId: "studypedia-app",
            storageBucket: "studypedia-app.firebasestorage.app",
            messagingSenderId: "793261754970",
            appId: "1:793261754970:web:49bbd2bea1ab4d46486663",
            measurementId: "G-6CTGP0MF8Y"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Get a reference to the Firestore service
        const db = firebase.firestore();

        // Initialize Firebase Auth
        const auth = firebase.auth();

        // Function to save a new question to Firestore
        async function saveQuestion(questionText) {
            try {
                // Add a new document to the 'ai-questions' collection
                const docRef = await db.collection("ai-questions").add({
                    question: questionText,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp()
                });
                console.log("Document successfully written with ID: ", docRef.id);
            } catch (e) {
                console.error("Error adding document: ", e);
            }
        }

        // Function to load documents from all collections
        async function loadAllDocuments() {
            const collections = [
                'DIPLOMA_PHARMACY_DOCUMENTS',
                'DIPLOMA_CLINICAL_MEDICINE_DOCUMENTS',
                'CERTIFICATE_PHARMACY_DOCUMENTS',
                'CERTIFICATE_MEDICAL_LAB_SCIENCE_DOCUMENTS',
                'CERTIFICATE_MEDICAL_RECORDS_DOCUMENTS',
                'DIPLOMA_MEDICAL_RECORDS_MGT_DOCUMENTS'
            ];
            const allDocuments = {};

            for (const collection of collections) {
                try {
                    const querySnapshot = await db.collection(collection).get();
                    querySnapshot.forEach((doc) => {
                        allDocuments[doc.id] = doc.data();
                    });
                } catch (e) {
                    console.error(`Error loading ${collection}: `, e);
                }
            }
            return allDocuments;
        }

        // Function to load course titles
        async function loadCourseTitles() {
            const titles = {};
            try {
                const querySnapshot = await db.collection("COURSE_TITLES").get();
                querySnapshot.forEach((doc) => {
                    titles[doc.id] = doc.data().title;
                });
            } catch (e) {
                console.error("Error loading course titles: ", e);
            }
            return titles;
        }

        // Function to load tab names
        async function loadTabNames() {
            const tabNames = {};
            try {
                const querySnapshot = await db.collection("TAB_NAMES").get();
                querySnapshot.forEach((doc) => {
                    tabNames[doc.id] = doc.data();
                });
            } catch (e) {
                console.error("Error loading tab names: ", e);
            }
            return tabNames;
        }

        // Function to update all document containers with new multiple document system
        function updateAllDocumentContainers(documents) {
            const documentContainers = document.querySelectorAll('.documents-container');
            
            documentContainers.forEach(container => {
                const tabId = container.getAttribute('data-tab-id');
                const isAdmin = document.getElementById('admin-menu').style.display !== 'none';
                const isLoggedIn = firebase.auth().currentUser;
                
                // Clear existing content
                container.innerHTML = '';
                
                // Get documents for this tab
                const tabDocuments = documents[tabId] || {};
                const documentKeys = Object.keys(tabDocuments).filter(key => key.startsWith('doc')).sort();
                
                if (documentKeys.length === 0) {
                    // No documents exist
                    if (isAdmin) {
                        container.innerHTML = `
                            <div class="add-document-placeholder">
                                <p>No documents added yet</p>
                                <button class="btn btn-add btn-small" onclick="openAddDocumentModal('${tabId}')">
                                    <i class="fas fa-plus"></i> Add First Document
                                </button>
                            </div>
                        `;
                    } else {
                        container.innerHTML = `
                            <div class="no-documents">
                                <p>No documents available for this section yet.</p>
                            </div>
                        `;
                    }
                } else {
                    // Display existing documents
                    documentKeys.forEach(docKey => {
                        const doc = tabDocuments[docKey];
                        const docNumber = docKey.replace('doc', '');
                        
                        const documentItem = document.createElement('div');
                        documentItem.className = 'document-item';
                        
                        if (isAdmin) {
                            documentItem.innerHTML = `
                                <div class="document-info">
                                    <div class="document-name">${doc.name}</div>
                                    <div class="document-description">${doc.description || 'No description'}</div>
                                </div>
                                <div class="document-actions">
                                    <button class="btn btn-small" onclick="editDocument('${tabId}', '${docKey}', '${doc.name}', '${doc.description || ''}', '${doc.link}')">
                                        <i class="fas fa-edit"></i> Edit
                                    </button>
                                    <button class="btn btn-small" onclick="deleteDocument('${tabId}', '${docKey}')" style="background-color: #dc3545;">
                                        <i class="fas fa-trash"></i> Delete
                                    </button>
                                </div>
                            `;
                        } else {
                            if (isLoggedIn) {
                                documentItem.innerHTML = `
                                    <div class="document-info">
                                        <div class="document-name">${doc.name}</div>
                                        <div class="document-description">${doc.description || 'Click to download'}</div>
                                    </div>
                                    <div class="document-actions">
                                        <a href="${doc.link}" target="_blank" class="btn btn-download btn-small">
                                            <i class="fas fa-download"></i> Download
                                        </a>
                                    </div>
                                `;
                            } else {
                                documentItem.innerHTML = `
                                    <div class="document-info">
                                        <div class="document-name">${doc.name}</div>
                                        <div class="document-description">Login required to download</div>
                                    </div>
                                    <div class="document-actions">
                                        <button class="btn btn-small" onclick="alert('Please login to download documents.')" style="background-color: #6c757d;">
                                            <i class="fas fa-lock"></i> Login Required
                                        </button>
                                    </div>
                                `;
                            }
                        }
                        
                        container.appendChild(documentItem);
                    });
                    
                    // Add "Add Document" button for admins if less than 5 documents
                    if (isAdmin && documentKeys.length < 5) {
                        const addButton = document.createElement('div');
                        addButton.className = 'add-document-placeholder';
                        addButton.innerHTML = `
                            <button class="btn btn-add btn-small" onclick="openAddDocumentModal('${tabId}')">
                                <i class="fas fa-plus"></i> Add Document (${documentKeys.length}/5)
                            </button>
                        `;
                        container.appendChild(addButton);
                    }
                }
            });
        }

        // Function to open add document modal with pre-filled tab ID
        function openAddDocumentModal(tabId) {
            document.getElementById('add-doc-modal').style.display = 'block';
            
            // Pre-fill the course based on tab ID
            const courseMap = {
                'diph': 'DIPLOMA_PHARMACY',
                'dicm': 'DIPLOMA_CLINICAL_MEDICINE',
                'cpha': 'CERTIFICATE_PHARMACY',
                'cmls': 'CERTIFICATE_MEDICAL_LAB_SCIENCE',
                'cmr': 'CERTIFICATE_MEDICAL_RECORDS',
                'dmr': 'DIPLOMA_MEDICAL_RECORDS_MGT'
            };
            
            const coursePrefix = tabId.substring(0, 4);
            const course = courseMap[coursePrefix];
            if (course) {
                document.getElementById('doc-course').value = course;
                document.getElementById('doc-course').dispatchEvent(new Event('change'));
            }
            
            // Generate next document ID
            const existingDocs = document.querySelector(`[data-tab-id="${tabId}"]`).querySelectorAll('.document-item');
            const nextDocNumber = existingDocs.length + 1;
            document.getElementById('doc-id').value = `${tabId}_doc${nextDocNumber}`;
        }

        // Function to edit a document
        async function editDocument(tabId, docKey, name, description, link) {
            const newName = prompt('Document name:', name);
            if (newName === null) return;
            
            const newDescription = prompt('Document description:', description);
            if (newDescription === null) return;
            
            const newLink = prompt('Document link:', link);
            if (newLink === null) return;
            
            if (newName && newLink) {
                try {
                    // Determine collection based on tab ID
                    const coursePrefix = tabId.substring(0, 4);
                    const collectionMap = {
                        'diph': 'DIPLOMA_PHARMACY_DOCUMENTS',
                        'dicm': 'DIPLOMA_CLINICAL_MEDICINE_DOCUMENTS',
                        'cpha': 'CERTIFICATE_PHARMACY_DOCUMENTS',
                        'cmls': 'CERTIFICATE_MEDICAL_LAB_SCIENCE_DOCUMENTS',
                        'cmr': 'CERTIFICATE_MEDICAL_RECORDS_DOCUMENTS',
                        'dmr': 'DIPLOMA_MEDICAL_RECORDS_MGT_DOCUMENTS'
                    };
                    
                    const collection = collectionMap[coursePrefix];
                    const documentId = `${tabId}_${docKey}`;
                    
                    // Convert Google Drive share link to download link if needed
                    let processedLink = newLink;
                    const driveMatch = newLink.match(/\/file\/d\/([a-zA-Z0-9_-]+)\//);
                    if (driveMatch) {
                        const fileId = driveMatch[1];
                        processedLink = `https://drive.google.com/uc?export=download&id=${fileId}`;
                    }
                    
                    await db.collection(collection).doc(documentId).update({
                        name: newName,
                        description: newDescription,
                        link: processedLink
                    });
                    
                    alert('Document updated successfully!');
                    
                    // Refresh the display
                    loadAllDocuments().then(documents => {
                        updateAllDocumentContainers(documents);
                    });
                } catch (error) {
                    alert('Error updating document: ' + error.message);
                }
            }
        }

        // Function to delete a document
        async function deleteDocument(tabId, docKey) {
            if (confirm('Are you sure you want to delete this document?')) {
                try {
                    // Determine collection based on tab ID
                    const coursePrefix = tabId.substring(0, 4);
                    const collectionMap = {
                        'diph': 'DIPLOMA_PHARMACY_DOCUMENTS',
                        'dicm': 'DIPLOMA_CLINICAL_MEDICINE_DOCUMENTS',
                        'cpha': 'CERTIFICATE_PHARMACY_DOCUMENTS',
                        'cmls': 'CERTIFICATE_MEDICAL_LAB_SCIENCE_DOCUMENTS',
                        'cmr': 'CERTIFICATE_MEDICAL_RECORDS_DOCUMENTS',
                        'dmr': 'DIPLOMA_MEDICAL_RECORDS_MGT_DOCUMENTS'
                    };
                    
                    const collection = collectionMap[coursePrefix];
                    const documentId = `${tabId}_${docKey}`;
                    
                    await db.collection(collection).doc(documentId).delete();
                    
                    alert('Document deleted successfully!');
                    
                    // Refresh the display
                    loadAllDocuments().then(documents => {
                        updateAllDocumentContainers(documents);
                    });
                } catch (error) {
                    alert('Error deleting document: ' + error.message);
                }
            }
        }

        // Keep old function for compatibility
        async function loadPharmacyDocuments() {
            return loadAllDocuments();
        }

        function updateDownloadLinks(documents) {
            updateAllDownloadLinks(documents);
        }
        
        // --- Tab and Content Management ---
        document.addEventListener('DOMContentLoaded', () => {
            function initializeTabs(container) {
                const tabButtons = container.querySelectorAll('.tab-button');
                const tabContents = container.querySelectorAll('.tab-content, .sub-content');
                
                tabButtons.forEach(button => {
                    button.addEventListener('click', (e) => {
                        e.preventDefault();
                        const targetId = button.getAttribute('data-target');
                        const targetContent = document.querySelector(targetId);
                        
                        const parentTabNav = button.closest('.tab-nav, .nested-tab-nav');
                        if (!parentTabNav) return;
                        
                        const siblingButtons = parentTabNav.querySelectorAll('.tab-button');
                        const siblingContents = parentTabNav.nextElementSibling.querySelectorAll('.tab-content, .sub-content');

                        siblingButtons.forEach(btn => btn.classList.remove('active'));
                        siblingContents.forEach(content => content.classList.remove('active'));

                        if (targetContent) {
                            targetContent.classList.add('active');
                        }
                        button.classList.add('active');
                    });
                });
            }
            
            document.querySelectorAll('.course-section').forEach(section => {
                initializeTabs(section);
            });

            // Load all data
            Promise.all([
                loadAllDocuments(),
                loadCourseTitles(),
                loadTabNames()
            ]).then(([documents, titles, tabNames]) => {
                updateAllDocumentContainers(documents);

                // Set course titles
                for (const [id, title] of Object.entries(titles)) {
                    const h2 = document.querySelector(`#${id} h2`);
                    if (h2) h2.textContent = title;
                }

                // Set tab names
                for (const [id, data] of Object.entries(tabNames)) {
                    const subTabs = document.querySelectorAll(`#${id} .nested-tab-nav .tab-button`);
                    subTabs.forEach((tab, index) => {
                        const key = `tab${index + 1}`;
                        if (data[key]) {
                            tab.textContent = data[key];
                        }
                    });
                }
            }).catch(error => {
                console.error("Failed to load data:", error);
            });

            // Background slideshow for medical studies images
            const medicalImages = [
                'https://images.unsplash.com/photo-1559757148-5c350d0d3c56?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
                'https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
                'https://images.unsplash.com/photo-1582750433449-648ed127bb54?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
                'https://images.unsplash.com/photo-1559757175-0eb30cd8c063?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
                'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
                'https://images.unsplash.com/photo-1551190822-a9333d879b1f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
                'https://images.unsplash.com/photo-1584464491033-06628f3a6b7b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
                'https://images.unsplash.com/photo-1576091160550-2173dba999ef?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'
            ];

            let currentImageIndex = 0;
            const heroElement = document.querySelector('.hero');

            function changeHeroBackground() {
                currentImageIndex = (currentImageIndex + 1) % medicalImages.length;
                heroElement.style.background = `linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('${medicalImages[currentImageIndex]}') no-repeat center center/cover`;
            }

            function changeBodyBackground() {
                currentImageIndex = (currentImageIndex + 1) % medicalImages.length;
                document.body.style.background = `url('${medicalImages[currentImageIndex]}') no-repeat center center/cover fixed`;
            }

            // Change backgrounds every 5 seconds
            setInterval(changeHeroBackground, 5000);
            setInterval(changeBodyBackground, 5000);

            // Auth Modal Functionality
            const authBtn = document.getElementById('auth-btn');
            const modal = document.getElementById('auth-modal');
            const closeBtn = document.querySelector('.close');
            const loginForm = document.getElementById('login-form');
            const signupForm = document.getElementById('signup-form');
            const switchToSignup = document.getElementById('switch-to-signup');
            const switchToLogin = document.getElementById('switch-to-login');
            const loginBtn = document.getElementById('login-btn');
            const signupBtn = document.getElementById('signup-btn');
            const loginMessage = document.getElementById('login-message');
            const signupMessage = document.getElementById('signup-message');

            // Show modal
            authBtn.addEventListener('click', () => {
                modal.style.display = 'block';
            });

            // Close modal
            closeBtn.addEventListener('click', () => {
                modal.style.display = 'none';
                loginMessage.textContent = '';
                signupMessage.textContent = '';
            });

            // Close modal when clicking outside
            window.addEventListener('click', (event) => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                    loginMessage.textContent = '';
                    signupMessage.textContent = '';
                }
            });

            // Switch to signup
            switchToSignup.addEventListener('click', (e) => {
                e.preventDefault();
                loginForm.style.display = 'none';
                signupForm.style.display = 'block';
                loginMessage.textContent = '';
            });

            // Switch to login
            switchToLogin.addEventListener('click', (e) => {
                e.preventDefault();
                signupForm.style.display = 'none';
                loginForm.style.display = 'block';
                signupMessage.textContent = '';
            });

            // Login
            loginBtn.addEventListener('click', async () => {
                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;

                if (!email || !password) {
                    loginMessage.textContent = 'Please fill in all fields.';
                    return;
                }

                try {
                    await auth.signInWithEmailAndPassword(email, password);
                    loginMessage.textContent = 'Login successful!';
                    loginMessage.style.color = 'green';
                    setTimeout(() => {
                        modal.style.display = 'none';
                        loginMessage.textContent = '';
                    }, 2000);
                } catch (error) {
                    loginMessage.textContent = error.message;
                }
            });

            // Signup
            signupBtn.addEventListener('click', async () => {
                const email = document.getElementById('signup-email').value;
                const password = document.getElementById('signup-password').value;

                if (!email || !password) {
                    signupMessage.textContent = 'Please fill in all fields.';
                    return;
                }

                try {
                    await auth.createUserWithEmailAndPassword(email, password);
                    signupMessage.textContent = 'Sign up successful!';
                    signupMessage.style.color = 'green';
                    setTimeout(() => {
                        modal.style.display = 'none';
                        signupMessage.textContent = '';
                    }, 2000);
                } catch (error) {
                    signupMessage.textContent = error.message;
                }
            });

            // Auth state observer
            auth.onAuthStateChanged((user) => {
                if (user) {
                    authBtn.textContent = 'Logout';
                    authBtn.onclick = () => auth.signOut();

                    // Show admin menu if admin
                    if (user.email === 'kaigwaakram123@gmail.com') {
                        document.getElementById('admin-menu').style.display = 'block';
                    }
                } else {
                    authBtn.textContent = 'Sign Up / Login';
                    document.getElementById('admin-menu').style.display = 'none';
                }
                
                // Refresh document containers when auth state changes
                loadAllDocuments().then(documents => {
                    updateAllDocumentContainers(documents);
                });
            });

            // Admin Menu Functionality
            const adminToggle = document.getElementById('admin-toggle');
            const adminDropdown = document.getElementById('admin-dropdown');

            adminToggle.addEventListener('click', () => {
                adminDropdown.style.display = adminDropdown.style.display === 'none' ? 'block' : 'none';
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (!adminToggle.contains(e.target) && !adminDropdown.contains(e.target)) {
                    adminDropdown.style.display = 'none';
                }
            });

            // Admin Modal Handlers
            document.querySelectorAll('.close').forEach(closeBtn => {
                closeBtn.addEventListener('click', () => {
                    const modalId = closeBtn.getAttribute('data-modal');
                    if (modalId) {
                        document.getElementById(modalId).style.display = 'none';
                    } else {
                        document.getElementById('auth-modal').style.display = 'none';
                    }
                });
            });

            // Add Document
            document.getElementById('add-doc-btn').addEventListener('click', () => {
                document.getElementById('add-doc-modal').style.display = 'block';
                adminDropdown.style.display = 'none';
            });

            // Update placeholder based on course
            document.getElementById('doc-course').addEventListener('change', (e) => {
                const course = e.target.value;
                const idInput = document.getElementById('doc-id');
                if (course === 'CERTIFICATE_PHARMACY') {
                    idInput.placeholder = 'e.g., cpha1_1 for Certificate Pharmacy tab 1:1 or cpha1_1_sub1 for sub-tab 1';
                } else if (course === 'DIPLOMA_PHARMACY') {
                    idInput.placeholder = 'e.g., diph1_1 for Diploma Pharmacy tab 1:1 or diph1_1_sub1 for sub-tab 1';
                } else if (course === 'DIPLOMA_CLINICAL_MEDICINE') {
                    idInput.placeholder = 'e.g., dicm1_1 for Diploma Clinical Medicine tab 1:1 or dicm1_1_sub1 for sub-tab 1';
                } else if (course === 'CERTIFICATE_MEDICAL_LAB_SCIENCE') {
                    idInput.placeholder = 'e.g., cmls1_1 for Certificate Medical Lab Science tab 1:1 or cmls1_1_sub1 for sub-tab 1';
                } else if (course === 'CERTIFICATE_MEDICAL_RECORDS') {
                    idInput.placeholder = 'e.g., cmr1_1 for Certificate Medical Records tab 1:1 or cmr1_1_sub1 for sub-tab 1';
                } else if (course === 'DIPLOMA_MEDICAL_RECORDS_MGT') {
                    idInput.placeholder = 'e.g., dmr1_1 for Diploma Medical Records Mgt tab 1:1 or dmr1_1_sub1 for sub-tab 1';
                } else {
                    idInput.placeholder = 'Document ID (e.g., diph1_1 or diph1_1_sub1)';
                }
            });

            document.getElementById('save-doc-btn').addEventListener('click', async () => {
                const course = document.getElementById('doc-course').value;
                const id = document.getElementById('doc-id').value;
                const name = document.getElementById('doc-name').value;
                const description = document.getElementById('doc-description').value;
                let link = document.getElementById('doc-link').value;
                const message = document.getElementById('add-doc-message');

                if (!course || !id || !name || !link) {
                    message.textContent = 'Please fill all required fields.';
                    return;
                }

                // Convert Google Drive share link to download link
                const driveMatch = link.match(/\/file\/d\/([a-zA-Z0-9_-]+)\//);
                if (driveMatch) {
                    const fileId = driveMatch[1];
                    link = `https://drive.google.com/uc?export=download&id=${fileId}`;
                }

                const collectionName = course + '_DOCUMENTS';

                try {
                    await db.collection(collectionName).doc(id).set({
                        name: name,
                        description: description || '',
                        link: link
                    });
                    message.textContent = 'Document added successfully!';
                    message.style.color = 'green';
                    
                    // Clear form
                    document.getElementById('doc-id').value = '';
                    document.getElementById('doc-name').value = '';
                    document.getElementById('doc-description').value = '';
                    document.getElementById('doc-link').value = '';
                    
                    setTimeout(() => {
                        document.getElementById('add-doc-modal').style.display = 'none';
                        message.textContent = '';
                        // Refresh document containers
                        loadAllDocuments().then(documents => {
                            updateAllDocumentContainers(documents);
                        });
                    }, 2000);
                } catch (error) {
                    message.textContent = error.message;
                }
            });

            // Edit Documents
            document.getElementById('edit-doc-btn').addEventListener('click', async () => {
                const docList = document.getElementById('doc-list');
                docList.innerHTML = '<p>Loading...</p>';
                document.getElementById('edit-doc-modal').style.display = 'block';
                adminDropdown.style.display = 'none';

                try {
                    const querySnapshot = await db.collection("PHARMACY_DOCUMENTS").get();
                    docList.innerHTML = '';
                    querySnapshot.forEach((doc) => {
                        const item = document.createElement('div');
                        item.innerHTML = `
                            <p><strong>${doc.id}</strong>: ${doc.data().name}</p>
                            <button onclick="editDoc('${doc.id}', '${doc.data().name}', '${doc.data().link}')">Edit</button>
                        `;
                        docList.appendChild(item);
                    });
                } catch (error) {
                    docList.innerHTML = '<p>Error loading documents.</p>';
                }
            });

            // Delete Documents
            document.getElementById('delete-doc-btn').addEventListener('click', async () => {
                const deleteDocList = document.getElementById('delete-doc-list');
                deleteDocList.innerHTML = '<p>Loading...</p>';
                document.getElementById('delete-doc-modal').style.display = 'block';
                adminDropdown.style.display = 'none';

                try {
                    const querySnapshot = await db.collection("PHARMACY_DOCUMENTS").get();
                    deleteDocList.innerHTML = '';
                    querySnapshot.forEach((doc) => {
                        const item = document.createElement('div');
                        item.innerHTML = `
                            <p><strong>${doc.id}</strong>: ${doc.data().name}</p>
                            <button onclick="deleteDoc('${doc.id}')">Delete</button>
                        `;
                        deleteDocList.appendChild(item);
                    });
                } catch (error) {
                    deleteDocList.innerHTML = '<p>Error loading documents.</p>';
                }
            });

            // Manage Fields
            document.getElementById('manage-fields-btn').addEventListener('click', () => {
                const fieldsList = document.getElementById('fields-list');
                fieldsList.innerHTML = '';

                const sections = [
                    { id: 'diploma-pharmacy', name: 'Diploma Pharmacy' },
                    { id: 'diploma-clinical-medicine', name: 'Diploma Clinical Medicine' },
                    { id: 'certificate-pharmacy', name: 'Certificate Pharmacy' },
                    { id: 'certificate-medical-lab-science', name: 'Certificate Medical Lab Science' },
                    { id: 'certificate-medical-records', name: 'Certificate Medical Records' }
                ];

                sections.forEach(section => {
                    const item = document.createElement('div');
                    const currentTitle = document.querySelector(`#${section.id} h2`).textContent;
                    item.innerHTML = `
                        <p><strong>${section.name}</strong>: <span id="title-${section.id}">${currentTitle}</span></p>
                        <button onclick="editField('${section.id}')">Edit</button>
                    `;
                    fieldsList.appendChild(item);
                });

                // Add event listeners for tab editing
                const tabCourseSelect = document.getElementById('tab-course-select');
                const tabMainSelect = document.getElementById('tab-main-select');
                const tabNamesContainer = document.getElementById('tab-names-container');
                const saveTabsBtn = document.getElementById('save-tabs-btn');

                tabCourseSelect.addEventListener('change', (e) => {
                    const course = e.target.value;
                    tabMainSelect.style.display = 'block';
                    tabMainSelect.innerHTML = '<option value="">Select Main Tab</option>';

                    const courseOptions = {
                        'CERTIFICATE_PHARMACY': [
                            { value: '#cpha1_1', text: 'cpha1:1' },
                            { value: '#cpha1_2', text: 'cpha1:2' },
                            { value: '#cpha2_1', text: 'cpha2:1' },
                            { value: '#cpha2_2', text: 'cpha2:2' }
                        ],
                        'DIPLOMA_PHARMACY': [
                            { value: '#diph1_1', text: 'diph1:1' },
                            { value: '#diph1_2', text: 'diph1:2' },
                            { value: '#diph2_1', text: 'diph2:1' },
                            { value: '#diph2_2', text: 'diph2:2' }
                        ],
                        'DIPLOMA_CLINICAL_MEDICINE': [
                            { value: '#dicm1_1', text: 'dicm1:1' },
                            { value: '#dicm1_2', text: 'dicm1:2' },
                            { value: '#dicm2_1', text: 'dicm2:1' },
                            { value: '#dicm2_2', text: 'dicm2:2' }
                        ],
                        'CERTIFICATE_MEDICAL_LAB_SCIENCE': [
                            { value: '#cmls1_1', text: 'cmls1:1' },
                            { value: '#cmls1_2', text: 'cmls1:2' },
                            { value: '#cmls2_1', text: 'cmls2:1' },
                            { value: '#cmls2_2', text: 'cmls2:2' }
                        ],
                        'CERTIFICATE_MEDICAL_RECORDS': [
                            { value: '#cmr1_1', text: 'cmr1:1' },
                            { value: '#cmr1_2', text: 'cmr1:2' },
                            { value: '#cmr2_1', text: 'cmr2:1' },
                            { value: '#cmr2_2', text: 'cmr2:2' }
                        ],
                        'DIPLOMA_MEDICAL_RECORDS_MGT': [
                            { value: '#dmr1_1', text: 'dmr1:1' },
                            { value: '#dmr1_2', text: 'dmr1:2' },
                            { value: '#dmr2_1', text: 'dmr2:1' },
                            { value: '#dmr2_2', text: 'dmr2:2' }
                        ]
                    };

                    if (courseOptions[course]) {
                        courseOptions[course].forEach(opt => {
                            const option = document.createElement('option');
                            option.value = opt.value;
                            option.textContent = opt.text;
                            tabMainSelect.appendChild(option);
                        });
                    }
                });

                tabMainSelect.addEventListener('change', (e) => {
                    const mainTab = e.target.value;
                    tabNamesContainer.style.display = 'block';
                    const subTabs = document.querySelectorAll(`${mainTab} .nested-tab-nav .tab-button`);
                    subTabs.forEach((tab, index) => {
                        const inputId = `tab${index + 1}`;
                        document.getElementById(inputId).value = tab.textContent;
                    });
                });

                saveTabsBtn.addEventListener('click', async () => {
                    const mainTab = tabMainSelect.value;
                    const message = document.getElementById('tabs-message');

                    if (!mainTab) {
                        message.textContent = 'Please select course and main tab first.';
                        message.style.color = 'red';
                        setTimeout(() => {
                            message.textContent = '';
                        }, 2000);
                        return;
                    }

                    const subTabs = document.querySelectorAll(`${mainTab} .nested-tab-nav .tab-button`);
                    const tabData = {};
                    subTabs.forEach((tab, index) => {
                        const inputId = `tab${index + 1}`;
                        const newName = document.getElementById(inputId).value;
                        if (newName) {
                            tab.textContent = newName;
                            tabData[`tab${index + 1}`] = newName;
                        } else {
                            tabData[`tab${index + 1}`] = tab.textContent;
                        }
                    });

                    // Save to Firestore
                    const btn = saveTabsBtn;
                    btn.textContent = 'Saving...';
                    btn.disabled = true;

                    try {
                        await db.collection("TAB_NAMES").doc(mainTab.replace('#', '')).set(tabData);
                        message.textContent = 'Tab names updated and saved!';
                        message.style.color = 'green';
                        btn.textContent = 'Renamed';
                        setTimeout(() => {
                            btn.textContent = 'Rename';
                            btn.disabled = false;
                        }, 2000);
                    } catch (error) {
                        message.textContent = 'Error saving: ' + error.message;
                        message.style.color = 'red';
                        btn.textContent = 'Rename';
                        btn.disabled = false;
                    }

                    setTimeout(() => {
                        message.textContent = '';
                    }, 2000);
                });

                // Add event listeners for action boxes
                document.getElementById('open-add-doc-btn').addEventListener('click', () => {
                    document.getElementById('manage-fields-modal').style.display = 'none';
                    document.getElementById('add-doc-modal').style.display = 'block';
                });

                document.getElementById('open-edit-doc-btn').addEventListener('click', () => {
                    document.getElementById('manage-fields-modal').style.display = 'none';
                    document.getElementById('edit-doc-modal').style.display = 'block';
                });

                document.getElementById('manage-fields-modal').style.display = 'block';
                adminDropdown.style.display = 'none';
            });

            // Refresh Documents
            document.getElementById('refresh-docs-btn').addEventListener('click', () => {
                loadAllDocuments().then(documents => {
                    updateAllDocumentContainers(documents);
                    alert('Documents refreshed!');
                }).catch(error => {
                    console.error("Failed to refresh documents:", error);
                    alert('Failed to refresh documents.');
                });
                adminDropdown.style.display = 'none';
            });

            // Edit Tabs
            document.getElementById('edit-tabs-btn').addEventListener('click', () => {
                document.getElementById('edit-tabs-modal').style.display = 'block';
                adminDropdown.style.display = 'none';
            });

            // Course select for tabs
            document.getElementById('tab-course-select').addEventListener('change', (e) => {
                const course = e.target.value;
                const mainSelect = document.getElementById('tab-main-select');
                const container = document.getElementById('tab-names-container');

                if (course) {
                    mainSelect.style.display = 'block';
                    mainSelect.innerHTML = '<option value="">Select Main Tab</option>';
    
                    const courseOptions = {
                        'CERTIFICATE_PHARMACY': [
                            { value: '#cpha1_1', text: 'cpha1:1' },
                            { value: '#cpha1_2', text: 'cpha1:2' },
                            { value: '#cpha2_1', text: 'cpha2:1' },
                            { value: '#cpha2_2', text: 'cpha2:2' }
                        ],
                        'DIPLOMA_PHARMACY': [
                            { value: '#diph1_1', text: 'diph1:1' },
                            { value: '#diph1_2', text: 'diph1:2' },
                            { value: '#diph2_1', text: 'diph2:1' },
                            { value: '#diph2_2', text: 'diph2:2' }
                        ],
                        'DIPLOMA_CLINICAL_MEDICINE': [
                            { value: '#dicm1_1', text: 'dicm1:1' },
                            { value: '#dicm1_2', text: 'dicm1:2' },
                            { value: '#dicm2_1', text: 'dicm2:1' },
                            { value: '#dicm2_2', text: 'dicm2:2' }
                        ],
                        'CERTIFICATE_MEDICAL_LAB_SCIENCE': [
                            { value: '#cmls1_1', text: 'cmls1:1' },
                            { value: '#cmls1_2', text: 'cmls1:2' },
                            { value: '#cmls2_1', text: 'cmls2:1' },
                            { value: '#cmls2_2', text: 'cmls2:2' }
                        ],
                        'CERTIFICATE_MEDICAL_RECORDS': [
                            { value: '#cmr1_1', text: 'cmr1:1' },
                            { value: '#cmr1_2', text: 'cmr1:2' },
                            { value: '#cmr2_1', text: 'cmr2:1' },
                            { value: '#cmr2_2', text: 'cmr2:2' }
                        ],
                        'DIPLOMA_MEDICAL_RECORDS_MGT': [
                            { value: '#dmr1_1', text: 'dmr1:1' },
                            { value: '#dmr1_2', text: 'dmr1:2' },
                            { value: '#dmr2_1', text: 'dmr2:1' },
                            { value: '#dmr2_2', text: 'dmr2:2' }
                        ]
                    };
            
                    if (courseOptions[course]) {
                        courseOptions[course].forEach(opt => {
                            const option = document.createElement('option');
                            option.value = opt.value;
                            option.textContent = opt.text;
                            mainSelect.appendChild(option);
                        });
                    }
                } else {
                    mainSelect.style.display = 'none';
                    container.style.display = 'none';
                }
            });

            // Main tab select
            document.getElementById('tab-main-select').addEventListener('change', (e) => {
                const mainTab = e.target.value;
                const container = document.getElementById('tab-names-container');

                if (mainTab) {
                    container.style.display = 'block';
                    const subTabs = document.querySelectorAll(`${mainTab} .nested-tab-nav .tab-button`);
                    subTabs.forEach((tab, index) => {
                        const inputId = `tab${index + 1}`;
                        document.getElementById(inputId).value = tab.textContent;
                    });
                } else {
                    container.style.display = 'none';
                }
            });

            // Save tabs
            document.getElementById('save-tabs-btn').addEventListener('click', async () => {
                const mainTab = document.getElementById('tab-main-select').value;
                const message = document.getElementById('tabs-message');

                if (!mainTab) {
                    message.textContent = 'Please select course and main tab first.';
                    message.style.color = 'red';
                    setTimeout(() => {
                        message.textContent = '';
                    }, 2000);
                    return;
                }

                const subTabs = document.querySelectorAll(`#${mainTab} .nested-tab-nav .tab-button`);

                const tabData = {};
                subTabs.forEach((tab, index) => {
                    const inputId = `tab${index + 1}`;
                    const newName = document.getElementById(inputId).value;
                    if (newName) {
                        tab.textContent = newName;
                        tabData[`tab${index + 1}`] = newName;
                    } else {
                        tabData[`tab${index + 1}`] = tab.textContent;
                    }
                });

                // Save to Firestore
                const btn = document.getElementById('save-tabs-btn');
                btn.textContent = 'Saving...';
                btn.disabled = true;

                try {
                    await db.collection("TAB_NAMES").doc(mainTab.replace('#', '')).set(tabData);
                    message.textContent = 'Tab names updated and saved!';
                    message.style.color = 'green';
                    btn.textContent = 'Renamed';
                    setTimeout(() => {
                        btn.textContent = 'Rename';
                        btn.disabled = false;
                    }, 2000);
                } catch (error) {
                    message.textContent = 'Error saving: ' + error.message;
                    message.style.color = 'red';
                    btn.textContent = 'Rename';
                    btn.disabled = false;
                }

                setTimeout(() => {
                    message.textContent = '';
                }, 2000);
            });

            // Global functions for the new document system
            window.openAddDocumentModal = openAddDocumentModal;
            window.editDocument = editDocument;
            window.deleteDocument = deleteDocument;

            // Legacy global functions for edit and delete (kept for compatibility)
            window.editDoc = async (id, name, link) => {
                const newName = prompt('New name:', name);
                const newLink = prompt('New link:', link);
                if (newName && newLink) {
                    try {
                        await db.collection("PHARMACY_DOCUMENTS").doc(id).update({
                            name: newName,
                            link: newLink
                        });
                        alert('Document updated!');
                        // Refresh
                        loadAllDocuments().then(documents => updateAllDocumentContainers(documents));
                    } catch (error) {
                        alert('Error updating: ' + error.message);
                    }
                }
            };

            window.deleteDoc = async (id) => {
                if (confirm('Delete this document?')) {
                    try {
                        await db.collection("PHARMACY_DOCUMENTS").doc(id).delete();
                        alert('Document deleted!');
                        // Refresh
                        loadAllDocuments().then(documents => updateAllDocumentContainers(documents));
                    } catch (error) {
                        alert('Error deleting: ' + error.message);
                    }
                }
            };

            window.editField = async (sectionId) => {
                const currentTitle = document.querySelector(`#${sectionId} h2`).textContent;
                const newTitle = prompt('Edit title:', currentTitle);
                if (newTitle && newTitle !== currentTitle) {
                    document.querySelector(`#${sectionId} h2`).textContent = newTitle;
                    document.getElementById(`title-${sectionId}`).textContent = newTitle;

                    // Save to Firestore
                    try {
                        await db.collection("COURSE_TITLES").doc(sectionId).set({
                            title: newTitle
                        });
                        alert('Title updated and saved!');
                    } catch (error) {
                        alert('Error saving title: ' + error.message);
                    }
                }
            };
            
            // --- AI Search Functionality ---
            const aiAskBtn = document.getElementById('ai-ask-btn');
            const aiQuestionInput = document.getElementById('ai-question-input');
            const aiImageInput = document.getElementById('ai-image-input');
            const aiResponseContainer = document.getElementById('ai-response-container');
            const aiResponseText = document.getElementById('ai-response-text');
            const aiCopyBtn = document.getElementById('ai-copy-btn');
            
            aiAskBtn.addEventListener('click', () => {
                const question = aiQuestionInput.value.trim();
                const imageFile = aiImageInput.files[0];
                
                if (question === "" && !imageFile) {
                    alert("Please enter a question or upload a photo.");
                    return;
                }
                
                // Save the user's question to Firestore
                if (question !== "") {
                    saveQuestion(question);
                }

                // Show the response container to the user
                aiResponseContainer.classList.add('active');

                // Clear previous response and show a loading message
                aiResponseText.textContent = "Thinking...";
                
                // --- THIS IS WHERE YOU NEED TO ADD YOUR BACKEND API LOGIC ---
                // This code is a placeholder. You'll need to send the 'question' and 'imageFile'
                // to a backend server that connects to an AI API (e.g., Google's Gemini API).
                // The backend would then return the AI's answer.

                console.log("Question:", question);
                console.log("Image:", imageFile ? imageFile.name : 'No image uploaded');

                // Example of what your backend request might look like:
                /*
                const formData = new FormData();
                formData.append('question', question);
                if (imageFile) {
                    formData.append('image', imageFile);
                }

                fetch('YOUR_BACKEND_API_ENDPOINT', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    // Assuming the API returns a JSON object like { answer: "..." }
                    aiResponseText.textContent = data.answer;
                })
                .catch(error => {
                    console.error('Error:', error);
                    aiResponseText.textContent = "Sorry, an error occurred. Please try again.";
                });
                */
                
                // --- Placeholder Simulation of an AI Response ---
                // For demonstration, we'll just show a static response after a delay.
                setTimeout(() => {
                    aiResponseText.textContent = "Based on your inquiry, here is a detailed medical explanation: " +
                    "A patient presenting with symptoms of high fever, persistent cough, and fatigue may be " +
                    "experiencing a viral infection like influenza. Medical assessment would typically involve " +
                    "a physical examination and possibly a diagnostic test to confirm the presence of the virus. " +
                    "Treatment usually focuses on supportive care, including rest, hydration, and over-the-counter " +
                    "medications to manage symptoms. It is essential to consult with a healthcare professional " +
                    "for an accurate diagnosis and treatment plan.";
                }, 2000); // Simulate a 2-second response time
            });

            // Handle the Copy Button
            aiCopyBtn.addEventListener('click', () => {
                const textToCopy = aiResponseText.textContent;
                navigator.clipboard.writeText(textToCopy).then(() => {
                    alert("Answer copied to clipboard!");
                }).catch(err => {
                    console.error('Could not copy text: ', err);
                });
            });

            // --- Legacy Toggles (Privacy and Terms) ---
            const togglePrivacyBtn = document.getElementById('togglePrivacy');
            const privacyContent = document.getElementById('privacy-content');

            togglePrivacyBtn.addEventListener('click', () => {
                const isHidden = privacyContent.style.display === 'none' || privacyContent.style.display === '';
                privacyContent.style.display = isHidden ? 'block' : 'none';
                togglePrivacyBtn.textContent = isHidden ? 'Hide Privacy Policy' : 'View Our Privacy Policy';
            });

            const toggleTermsBtn = document.getElementById('toggleTerms');
            const termsContent = document.getElementById('terms-content');

            toggleTermsBtn.addEventListener('click', () => {
                const isHidden = termsContent.style.display === 'none' || termsContent.style.display === '';
                termsContent.style.display = isHidden ? 'block' : 'none';
                toggleTermsBtn.textContent = isHidden ? 'Hide Terms and Conditions' : 'Read Our Terms and Conditions';
            });

            // --- Smooth Scrolling ---
            document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // --- Highlight Active Nav Link ---
            const sections = document.querySelectorAll('section, .hero');
            const navLi = document.querySelectorAll('nav ul li a');

            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                    const offset = document.querySelector('header').offsetHeight + 20;

                    if (pageYOffset >= sectionTop - offset && pageYOffset < sectionTop + sectionHeight - offset) {
                        current = section.getAttribute('id');
                    }
                });

                navLi.forEach(li => {
                    li.classList.remove('active');
                    if (li.getAttribute('href') && li.getAttribute('href').includes(current)) {
                        li.classList.add('active');
                    }
                });
            });

            // Mobile Dropdown Toggle
            document.querySelectorAll('.dropdown').forEach(dropdown => {
                dropdown.addEventListener('click', (e) => {
                    if (window.innerWidth <= 768) {
                        e.preventDefault();
                        const content = dropdown.querySelector('.dropdown-content');
                        content.style.display = content.style.display === 'block' ? 'none' : 'block';
                    }
                });
            });

            // --- Dark Mode Toggle Functionality ---
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = themeToggle.querySelector('i');
            
            // Check for saved theme preference or default to 'light'
            const currentTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', currentTheme);
            
            // Update icon based on current theme
            if (currentTheme === 'dark') {
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            }
            
            themeToggle.addEventListener('click', () => {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                
                // Update icon
                if (newTheme === 'dark') {
                    themeIcon.classList.remove('fa-moon');
                    themeIcon.classList.add('fa-sun');
                } else {
                    themeIcon.classList.remove('fa-sun');
                    themeIcon.classList.add('fa-moon');
                }
                
                // Add a subtle animation
                themeToggle.style.transform = 'rotate(360deg)';
                setTimeout(() => {
                    themeToggle.style.transform = '';
                }, 300);
            });

            // --- Enhanced AI Search with Loading States ---
            const originalAiAskBtn = document.getElementById('ai-ask-btn');
            originalAiAskBtn.addEventListener('click', () => {
                const question = aiQuestionInput.value.trim();
                const imageFile = aiImageInput.files[0];
                
                if (question === "" && !imageFile) {
                    alert("Please enter a question or upload a photo.");
                    return;
                }
                
                // Add loading state
                originalAiAskBtn.disabled = true;
                originalAiAskBtn.innerHTML = 'Thinking... <span class="loading-spinner"></span>';
                
                // Save the user's question to Firestore
                if (question !== "") {
                    saveQuestion(question);
                }

                // Show the response container
                aiResponseContainer.classList.add('active');
                aiResponseText.textContent = "Processing your question...";
                
                // Simulate AI response with better UX
                setTimeout(() => {
                    aiResponseText.textContent = "Based on your inquiry, here is a detailed medical explanation: " +
                    "A patient presenting with symptoms of high fever, persistent cough, and fatigue may be " +
                    "experiencing a viral infection like influenza. Medical assessment would typically involve " +
                    "a physical examination and possibly a diagnostic test to confirm the presence of the virus. " +
                    "Treatment usually focuses on supportive care, including rest, hydration, and over-the-counter " +
                    "medications to manage symptoms. It is essential to consult with a healthcare professional " +
                    "for an accurate diagnosis and treatment plan.";
                    
                    // Reset button
                    originalAiAskBtn.disabled = false;
                    originalAiAskBtn.innerHTML = 'Ask';
                    
                    // Clear input
                    aiQuestionInput.value = '';
                    aiImageInput.value = '';
                }, 2000);
            });

            // --- Add Search Functionality for Courses ---
            const searchInput = document.createElement('input');
            searchInput.type = 'text';
            searchInput.placeholder = 'Search courses...';
            searchInput.className = 'course-search';
            searchInput.style.cssText = `
                width: 100%;
                max-width: 400px;
                padding: 0.8rem;
                margin: 2rem auto;
                display: block;
                border: 2px solid var(--primary-color);
                border-radius: var(--border-radius);
                font-size: 1rem;
                transition: var(--transition);
            `;
            
            // Insert search input after hero section
            const heroSection = document.querySelector('.hero');
            heroSection.insertAdjacentElement('afterend', searchInput);
            
            searchInput.addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                const courseSections = document.querySelectorAll('.course-section');
                
                courseSections.forEach(section => {
                    const title = section.querySelector('h2').textContent.toLowerCase();
                    const content = section.textContent.toLowerCase();
                    
                    if (title.includes(searchTerm) || content.includes(searchTerm)) {
                        section.style.display = 'block';
                    } else {
                        section.style.display = searchTerm === '' ? 'block' : 'none';
                    }
                });
            });

            // --- Add Keyboard Shortcuts ---
            document.addEventListener('keydown', (e) => {
                // Ctrl/Cmd + D for dark mode toggle
                if ((e.ctrlKey || e.metaKey) && e.key === 'd') {
                    e.preventDefault();
                    themeToggle.click();
                }
                
                // Ctrl/Cmd + K for search focus
                if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                    e.preventDefault();
                    searchInput.focus();
                }
                
                // Escape to clear search
                if (e.key === 'Escape' && document.activeElement === searchInput) {
                    searchInput.value = '';
                    searchInput.dispatchEvent(new Event('input'));
                }
            });

            // --- Add Scroll to Top Button ---
            const scrollToTopBtn = document.createElement('button');
            scrollToTopBtn.innerHTML = '<i class="fas fa-arrow-up"></i>';
            scrollToTopBtn.className = 'scroll-to-top';
            scrollToTopBtn.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: var(--primary-color);
                color: var(--white-color);
                border: none;
                padding: 12px;
                border-radius: 50%;
                cursor: pointer;
                font-size: 1.2rem;
                opacity: 0;
                visibility: hidden;
                transition: var(--transition);
                z-index: 1000;
                box-shadow: var(--box-shadow);
            `;
            
            document.body.appendChild(scrollToTopBtn);
            
            // Show/hide scroll to top button
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    scrollToTopBtn.style.opacity = '1';
                    scrollToTopBtn.style.visibility = 'visible';
                } else {
                    scrollToTopBtn.style.opacity = '0';
                    scrollToTopBtn.style.visibility = 'hidden';
                }
            });
            
            scrollToTopBtn.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>
